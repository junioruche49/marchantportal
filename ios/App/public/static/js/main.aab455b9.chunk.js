(this["webpackJsonpagile-credit"]=this["webpackJsonpagile-credit"]||[]).push([[0],{129:function(e,t,a){e.exports=a(329)},139:function(e,t,a){},328:function(e,t,a){},329:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),s=a(13),o=a(1),m=a.n(o),i=a(5),u=a(2),d=a(8),p=a(12),b=a(52),g=Object(b.a)((function(e){return{authenticated:!1,accessToken:null,currentUser:null,logout:function(){},initialize:function(t){e({logout:t.logout,authenticated:t.authenticated,accessToken:t.token}),t.loadUserProfile().then((function(t){e({currentUser:t})})).catch((function(e){}))}}}));var f=function(e){var t,a=g((function(e){return e.currentUser}));return a?r.a.createElement("div",null,r.a.createElement("header",{className:"hidden lg:flex lg:justify-between lg:bg-white lg:pt-3 lg:pb-3 lg:pl-12 lg:shadow-sm"},r.a.createElement("div",{className:""},r.a.createElement("h1",{className:"text-gray-700 text-md font-semibold pt-2"},"Agile Credit Loan Portal")),r.a.createElement("div",{className:"flex items-center mr-16"},r.a.createElement("h4",{className:"text-gray-700 text-md font-base mr-5"},"Hello, ",(null===a||void 0===a?void 0:a.firstName)?(null===a||void 0===a?void 0:a.firstName.charAt(0).toUpperCase())+(null===a||void 0===a||null===(t=a.firstName.slice(1))||void 0===t?void 0:t.toLowerCase()):null))),r.a.createElement("br",{className:"hidden lg:inline"}),r.a.createElement("br",{className:"hidden lg:inline"}),r.a.createElement("header",{className:"flex justify-start pl-8 lg:hidden"},r.a.createElement("button",{className:"h-12 w-12 focus:outline-none",onClick:function(){return e.navBar()}},r.a.createElement("img",{src:"/img/hamburger-menu.svg",alt:""})),r.a.createElement("img",{src:"/img/agile-credit-logo.png",className:"w-16 ml-24",alt:""}))):r.a.createElement(r.a.Fragment,null)},x=function(e){return r.a.createElement(p.b,{exact:e.exact,onClick:function(){return e.navAction()},activeClassName:"bg-indigo-200 text-blue-700",to:e.to,className:"text-gray-700 flex p-4 rounded-tl-lg rounded-bl-lg mb-1"},r.a.createElement("img",{src:e.icon,className:"ml-3 w-5",alt:""}),r.a.createElement("span",{className:" ml-6 lg:text-sm xl:text-lg font-light"},e.name))},h=a(123);var v=Object(d.i)((function(e){Object(n.useEffect)((function(){}),[e.navValue]);var t=Object(d.f)(),a=g(Object(n.useCallback)((function(e){return e.logout}),[])),l=function(){var e=Object(i.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.a)("Are you sure you want to logout?","Logout");case 2:e.sent&&(a(),t.replace("/"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{transition:"color 0.8s linear"},ref:e.refData,className:e.navValue?" w-8/12 sm:w-6/12 fixed left-0 bg-white h-screen border-r z-40 pt-6":"hidden  lg:w-3/12 pt-12 border-r bg-white h-auto relative lg:inline"},r.a.createElement("div",{className:"flex justify-center mb-4 lg:mb-20"},r.a.createElement("img",{src:"/img/agile-credit-logo.png",className:"w-24",alt:""})),r.a.createElement("div",{className:"w-full mb-8 lg:mb-16 m-auto text-center"},r.a.createElement("button",{onClick:function(){return e.navSideBarToggle(),void e.history.push("/new-loan-request")},className:"inline-flex m-auto shadow-xl text-xl text-white px-8 lg:px-10 py-2 lg:py-3 items-center bg-blue-700 rounded-md hover:bg-blue-600 transition-colors duration-150 ease-in-out"},r.a.createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"add_24px"},r.a.createElement("path",{id:"icon/content/add_24px",d:"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z",fill:"white"}))),r.a.createElement("span",{className:"ml-2 text-lg font-normal"},"Take a loan"))),r.a.createElement("div",{className:"w-11/12 ml-auto lg:mb-24"},[{to:"/",name:"Overview",icon:"/img/overview-icon.svg",exact:!0},{to:"/loans",name:"My Loans",icon:"/img/loans-icon.svg",exact:!1},{to:"/profile",name:"My Profile",icon:"/img/profile-icon.svg",exact:!1},{to:"/cards",name:"Payment Methods",icon:"/img/payments-icon.svg",exact:!1}].map((function(t,a){return r.a.createElement(x,{key:a,to:t.to,name:t.name,icon:t.icon,exact:t.exact,navAction:e.navSideBarToggle})}))),r.a.createElement("br",null),r.a.createElement("div",{className:" bottom-0 border-t"},r.a.createElement("div",{className:"w-11/12 ml-auto mt-8"},r.a.createElement(p.b,{onClick:function(){return e.navSideBarToggle()},to:"",className:"flex p-4 items-center rounded-tl-lg rounded-bl-lg mb-1"},r.a.createElement("img",{src:"/img/web-icon.svg",className:"ml-3 w-5 h-5",alt:""}),r.a.createElement("span",{className:"text-gray-700 ml-6 lg:text-sm xl:text-lg font-light"},"Visit Website")),r.a.createElement("button",{onClick:l,className:"hidden lg:flex p-4 rounded-tl-lg rounded-bl-lg mb-1 focus:outline-none"},r.a.createElement("img",{src:"/img/logout-icon.svg",className:"ml-3 w-5 h-8",alt:""}),r.a.createElement("span",{className:"text-gray-700 ml-6 lg:text-sm xl:text-lg font-light"},"Logout")),r.a.createElement("button",{onClick:l,className:"lg:hidden text-red-600 flex p-4 rounded-tl-lg rounded-bl-lg mb-1 focus:outline-none"},r.a.createElement("img",{src:"/img/logout-icon.svg",className:"ml-3 w-5 h-6",alt:""}),r.a.createElement("span",{className:"text-red-600 ml-6 lg:text-sm xl:text-lg font-light"},"Logout")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}));var w=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"flex bg-blue-700 fixed bottom-0 w-full py-3 px-3 lg:hidden"},r.a.createElement(p.b,{to:"/",className:"w-1/3 text-center "},r.a.createElement("img",{className:"text-white mx-auto",src:"/img/overview-icon-alt.svg",alt:""}),r.a.createElement("h1",{className:"text-white text-xs"},"Overview")),r.a.createElement(p.b,{to:"/loans",className:"w-1/3 text-center"},r.a.createElement("img",{className:"mx-auto",src:"/img/loans-icon-alt.svg",alt:""}),r.a.createElement("h1",{className:"text-white text-xs"},"Loans")),r.a.createElement(p.b,{to:"/profile",className:"w-1/3 text-center"},r.a.createElement("img",{className:"mx-auto",src:"/img/profile-icon-alt.svg",alt:""}),r.a.createElement("h1",{className:"text-white text-xs"},"Profile"))),r.a.createElement("footer",{className:"absolute bottom-0 w-full bg-white pt-3 pb-3 shadow-md hidden lg:inline-block"},r.a.createElement("div",{className:"relative"},r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("p",{className:"flex justify-center text-gray-700 text-sm font-light"}," ","Agile Credit Limited | Made with"," ",r.a.createElement("img",{className:"pl-3",src:"/img/favorite-icon.svg",alt:""}))))))};a(139);var E=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],c=a[1],s=Object(n.useRef)(),o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c(!e&&function(e){return!e})};return r.a.createElement("div",{className:"w-full m-auto relative h-full lg:flex bg-gradient-to-b from-blue-100 to-white md:bg-none md:bg-gray-100   lg:p-0"},r.a.createElement(v,{navSideBarToggle:function(){return o(!0)},navValue:l,refData:s}),r.a.createElement("div",{className:l?"bg-gray-400 opacity-50 z-auto relative":"lg:w-10/12 lg:relative pt-12 lg:pt-0",onClick:function(){return l?o():null}},r.a.createElement(f,{navBar:o}),r.a.createElement("div",null,e.children),r.a.createElement(w,null)))},y=a(7),N=a(124),k=a.n(N),j=a(125),O=a.n(j)()({realm:null!=="Agile-Credit"?"Agile-Credit":"",url:null!=="https://auth-demo.agilelender.com/auth/"?"https://auth-demo.agilelender.com/auth/":"",clientId:null!=="portal-frontend"?"portal-frontend":""});function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=k.a.create(Object(s.a)({baseURL:"https://api-dev.agilelender.com/api"},e?{headers:{Authorization:"Bearer ".concat(e),"Access-Control-Allow-Origin":"*"}}:{}));return t.interceptors.response.use((function(e){return e}),(function(e){if(!e.response||401!=e.response.status)return Promise.reject(e);O.logout()})),t}function C(){return(C=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/loan/reports/total-loan-amount");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/loan/reports/outstanding-loan-balance");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/loan/reports/next-loan-due-date");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/loan/reports/recent-loan-amounts-by-date/2020-10-01/2020-12-30");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/loan/reports/repayment-trend-by-date/2020-12-01/2020-12-30");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=a(53);var H=function(e){var t={labels:e.data.labels,datasets:[{data:e.data.values,backgroundColor:["#0A54A2","#5ECDD4","#F005CB","#4a4a4a","#C0C0C0"],hoverBackgroundColor:["#083a6f","#1d6469","#92067c"]}]};return r.a.createElement(M.Doughnut,{width:100,height:100,data:t,legend:{display:!1}})};var F=function(e){var t={labels:e.data.labels,datasets:[{label:"",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"#0770B0",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#0770B0",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:e.data.values}]};return r.a.createElement(M.Line,{data:t})};var A=Object(d.i)((function(e){var t,a=g((function(e){return e.accessToken})),l=g((function(e){return e.currentUser})),c=Object(y.b)("totalLoanAMount",(function(){return function(e){return C.apply(this,arguments)}(a)}),{retry:1}),o=c.isLoading,m=(c.error,c.data),i=Object(y.b)("totalOutstandingBalance",(function(){return function(e){return _.apply(this,arguments)}(a)}),{retry:1}),u=i.isLoading,d=(i.error,i.data),p=Object(y.b)("nextLoanDueDate",(function(){return function(e){return S.apply(this,arguments)}(a)}),{retry:1}),b=p.isLoading,f=(p.error,p.data),x=Object(y.b)("recentLoanAmountTable",(function(){return function(e){return V.apply(this,arguments)}(a)}),{retry:1}),h=x.isLoading,v=(x.error,x.data),w=Object(y.b)("recentRepaymentsTable",(function(){return function(e){return z.apply(this,arguments)}(a)}),{retry:1}),E=w.isLoading,N=(w.error,w.data),k=Object(n.useMemo)((function(){return v?{labels:Object.keys(null===v||void 0===v?void 0:v.data).map((function(e){return new Date(e).toDateString()})),values:Object.values(null===v||void 0===v?void 0:v.data)}:{labels:[],values:[]}}),[v]),j=Object(n.useMemo)((function(){if(!N)return{labels:[],values:[]};var e=null===N||void 0===N?void 0:N.data.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{created_at:(t=null===e||void 0===e?void 0:e.created_at,["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"][new Date(t).getMonth()])});var t})),t=e.map((function(e){return e.created_at})).filter((function(e,t,a){return a.indexOf(e)===t})),a=t.map((function(t){return e.filter((function(e){return e.created_at===t})).reduce((function(e,t){return e+Number(t.amount)}),0)}));return{labels:t,values:a}}),[N]),O=[];return N&&(O=N.data.slice(0,10)),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"lg:hidden"},r.a.createElement("br",{className:"lg:hidden"}),r.a.createElement("div",{className:"w-full text-center mb-10 lg:hidden"},r.a.createElement("h1",{className:"text-green-500 font-semibold lg:hidden"},"Hello, ",l&&l.firstName,"!")),r.a.createElement("div",{className:"pl-10 mobile-dashboard-stats"},r.a.createElement("div",{className:"flex overflow-x-auto mt-4"},o?r.a.createElement("div",{className:"w-64 bg-white flex-none  rounded p-4 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"flex animate-pulse items-center justify-between mb-2"},r.a.createElement("div",{className:"bg-blue-200  w-8 h-8 rounded-full"}),r.a.createElement("div",{className:"bg-blue-200 w-2/3 h-2 rounded-md"})),r.a.createElement("div",{className:"animate-pulse bg-blue-200 w-full h-2 rounded-md"})):r.a.createElement("div",{className:"w-64 bg-white flex-none border rounded p-4 shadow-sm mr-5"},r.a.createElement("div",{className:"flex items-center justify-start mb-2"},r.a.createElement("img",{src:"img/loan-amount-icon.svg",className:"w-8",alt:""}),r.a.createElement("h3",{className:"font-normal text-blue-600 ml-6 text-sm font-medium"},"Loans Received")),Number(null===m||void 0===m?void 0:m.data)>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"font-bold text-xl text-gray-600"},"\u20a6",Number(null===m||void 0===m?void 0:m.data).toLocaleString(void 0,{maximumFractionDigits:2}))):r.a.createElement("h3",{className:"font-bold text-xl text-gray-300"},"\u20a60.00")),u?r.a.createElement("div",{className:"w-64 bg-white flex-none  rounded p-4 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"flex animate-pulse items-center justify-between mb-2"},r.a.createElement("div",{className:"bg-blue-200  w-8 h-8 rounded-full"}),r.a.createElement("div",{className:"bg-blue-200 w-2/3 h-2 rounded-md"})),r.a.createElement("div",{className:"animate-pulse bg-blue-200 w-full h-2 rounded-md"})):r.a.createElement("div",{className:"w-64 bg-white border-green-500 flex-none border rounded p-4 shadow-sm mr-5"},r.a.createElement("div",{className:"flex items-center justify-start mb-2"},r.a.createElement("img",{src:"img/repayment-icon.svg",className:"w-8",alt:""}),r.a.createElement("h3",{className:"font-normal text-green-600 ml-6 text-sm font-medium"},"Total Outstanding")),Number(null===d||void 0===d?void 0:d.data)>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"font-bold text-xl text-gray-600"},"\u20a6",Number(null===d||void 0===d?void 0:d.data).toLocaleString(void 0,{maximumFractionDigits:2}))):r.a.createElement("h3",{className:"font-bold text-xl text-gray-300"},"\u20a60.00")),b?r.a.createElement("div",{className:"w-64 bg-white flex-none  rounded p-4 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"flex animate-pulse items-center justify-between mb-2"},r.a.createElement("div",{className:"bg-blue-200  w-8 h-8 rounded-full"}),r.a.createElement("div",{className:"bg-blue-200 w-2/3 h-2 rounded-md"})),r.a.createElement("div",{className:"animate-pulse bg-blue-200 w-full h-2 rounded-md"})):r.a.createElement("div",{className:"w-64 bg-white flex-none border rounded p-4 shadow-sm"},r.a.createElement("div",{className:"flex items-center justify-start mb-2"},r.a.createElement("img",{src:"img/next-repayment-icon.svg",className:"w-8",alt:""}),r.a.createElement("h3",{className:"font-normal text-purple-600 ml-6 text-sm font-medium"},"Next Repayment Date")),(null===f||void 0===f?void 0:f.data)?r.a.createElement("h3",{className:"font-bold text-xl text-gray-600"}," ",new Date(null===f||void 0===f?void 0:f.data).toLocaleDateString()," "):r.a.createElement("h3",{className:"font-bold text-xl text-gray-300"},"--")))),r.a.createElement("br",null),r.a.createElement("div",{className:"w-56 bg-blue-700 p-2 pr-10 rounded-tr-md rounded-br-md"},r.a.createElement("h4",{className:"text-right text-white font-normal text-xs"},"Your Recent Payments")),r.a.createElement("br",null),r.a.createElement("div",{className:""},E||null===N?r.a.createElement("div",{className:"sm:w-8/12 flex-none  rounded pt-6 p-8 m-auto"},r.a.createElement("div",{className:"animate-pulse flex space-x-4"},r.a.createElement("div",{className:"flex-1 space-y-6 py-1"},r.a.createElement("div",{className:"h-4 bg-blue-200 rounded w-3/4"}),r.a.createElement("div",{className:"space-y-6"},r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}))))):r.a.createElement("table",{className:"table-fixed sm:w-8/12  m-auto"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"bg-blue-200 border-0"},r.a.createElement("th",{className:"w-1/6 px-4 py-3 text-xs font-semibold text-blue-700 rounded-bl-md rounded-tl-md text-left"},"S/N"),r.a.createElement("th",{className:"w-1/4 px-4 py-3 text-xs font-semibold text-blue-700"},"Amount"),r.a.createElement("th",{className:"w-1/3 px-4 py-3 text-xs font-semibold text-blue-700 text-right"},"Date"))),r.a.createElement("tbody",null,null===(t=O)||void 0===t?void 0:t.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",{className:"w-1/6 border-b px-4 py-3 text-xs text-gray-600 text-left"},t+1,"."),r.a.createElement("td",{className:"w-1/6 border-b px-4 py-3 text-xs text-green-700 text-center"},"\u20a6",Number(e.amount).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"w-1/3 border-b px-4 py-3 text-xs text-gray-600 text-right"},new Date(e.created_at).toLocaleDateString()))}))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("main",{className:"hidden lg:block lg:pl-12"},r.a.createElement("br",null),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"w-1/3"},o?r.a.createElement("div",{className:"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"flex animate-pulse items-center justify-between mb-4"},r.a.createElement("div",{className:"bg-blue-200  w-12 h-12 rounded-full"}),r.a.createElement("div",{className:"bg-blue-200 w-2/3 h-4 rounded-md"})),r.a.createElement("div",{className:"animate-pulse bg-blue-200 w-full h-4 rounded-md"})):r.a.createElement("div",{className:"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"flex items-center justify-start mb-2"},r.a.createElement("img",{src:"img/loan-amount-icon.svg",className:"w-10",alt:""}),r.a.createElement("h3",{className:"font-normal text-blue-600 ml-6 text-base font-medium"},"Loans Received")),Number(null===m||void 0===m?void 0:m.data)>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"font-bold text-2xl text-gray-600"},"\u20a6",Number(null===m||void 0===m?void 0:m.data).toLocaleString(void 0,{maximumFractionDigits:2}))):r.a.createElement("h3",{className:"font-bold text-2xl text-gray-300"},"\u20a60.00"))),r.a.createElement("div",{className:"w-1/3"},u?r.a.createElement("div",{className:"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"flex animate-pulse items-center justify-between mb-4"},r.a.createElement("div",{className:"bg-blue-200  w-12 h-12 rounded-full"}),r.a.createElement("div",{className:"bg-blue-200 w-2/3 h-4 rounded-md"})),r.a.createElement("div",{className:"animate-pulse bg-blue-200 w-full h-4 rounded-md"})):r.a.createElement("div",{className:"w-10/12 bg-white border border-green-500 flex-none  rounded pt-6 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"flex items-center justify-start mb-2"},r.a.createElement("img",{src:"img/repayment-icon.svg",className:"w-10",alt:""}),r.a.createElement("h3",{className:"font-normal text-green-600 ml-6 text-base font-medium"},"Total Outstanding")),Number(null===d||void 0===d?void 0:d.data)>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"font-bold text-2xl text-gray-600"},"\u20a6",Number(null===d||void 0===d?void 0:d.data).toLocaleString(void 0,{maximumFractionDigits:2}))):r.a.createElement("h3",{className:"font-bold text-2xl text-gray-300"},"\u20a60.00"))),r.a.createElement("div",{className:"w-1/3"},b?r.a.createElement("div",{className:"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"flex animate-pulse items-center justify-between mb-4"},r.a.createElement("div",{className:"bg-blue-200  w-12 h-12 rounded-full"}),r.a.createElement("div",{className:"bg-blue-200 w-2/3 h-4 rounded-md"})),r.a.createElement("div",{className:"animate-pulse bg-blue-200 w-full h-4 rounded-md"})):r.a.createElement("div",{className:"w-10/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"flex items-center justify-start mb-2"},r.a.createElement("img",{src:"img/next-repayment-icon.svg",className:"w-10",alt:""}),r.a.createElement("h3",{className:"font-normal text-purple-500 ml-6 text-base font-medium"},"Next Repayment Date")),(null===f||void 0===f?void 0:f.data)?r.a.createElement("h3",{className:"font-bold text-2xl text-gray-600"}," ",new Date(null===f||void 0===f?void 0:f.data).toLocaleDateString()," "):r.a.createElement("h3",{className:"font-bold text-2xl text-gray-300"},"--")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-8/12 "},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-3"}),r.a.createElement("h4",{className:"text-gray-700 font-semibold text-xl tracking-wide"},"Repayment Trend")),r.a.createElement("br",null),E||null===N?r.a.createElement("div",{className:"w-11/12 bg-white flex-none  rounded pt-6 p-8 shadow-sm mr-5"},r.a.createElement("div",{className:"animate-pulse flex space-x-4"},r.a.createElement("div",{className:"flex-1 space-y-6 py-1"},r.a.createElement("div",{className:"h-4 bg-blue-200 rounded w-3/4"}),r.a.createElement("div",{className:"space-y-6"},r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}))))):r.a.createElement("div",{className:"w-11/12 bg-white flex-none  rounded pt-6 p-8 shadow-lg "},r.a.createElement(F,{data:j}))),r.a.createElement("div",{className:"w-1/3"},r.a.createElement("div",{className:"w-10/12 "},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-3"}),r.a.createElement("h4",{className:"text-gray-700 font-semibold text-xl tracking-wide"},"Recent Loans")),r.a.createElement("br",null),r.a.createElement("div",{className:"w-full bg-white flex-none  rounded pt-6 p-8 shadow-lg mb-3"},h||null===v?r.a.createElement("div",{className:"animate-pulse flex space-x-4"},r.a.createElement("div",{className:"flex-1 space-y-6 py-1"},r.a.createElement("div",{className:"h-4 bg-blue-200 rounded w-3/4"}),r.a.createElement("div",{className:"space-y-6"},r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"}),r.a.createElement("div",{className:"h-4 bg-blue-200 rounded"})))):r.a.createElement(H,{data:k})),r.a.createElement("button",{className:"flex w-full shadow-xl text-xl font-light text-white justify-center pt-3 pb-3 items-center bg-blue-700 hover:bg-blue-600 rounded-md transition-colors duration-150 ease-in-out",onClick:function(){return e.history.push("/loans")}},r.a.createElement("span",{className:"ml-4 text-sm xl:text-lg lg:text-sm pr-2"},"See loan history"),r.a.createElement("img",{src:"img/chevron-right.svg",className:"w-5 pt-1",alt:""}))))),r.a.createElement("br",null)))}));function B(){return(B=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/section-checklist/personal");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/section-checklist/bvn");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/section-checklist/next_of_kin");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/section-checklist/education");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/section-checklist/employment");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/section-checklist/account");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/profile-sections");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/section-checklist/contact");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/section-checklist/documents");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return X.apply(this,arguments)}function X(){return(X=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).patch("/customer/profile",Object(s.a)({},a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).post("/kycvalidation/resolvebvn",Object(s.a)({},a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){return Q.apply(this,arguments)}function Q(){return(Q=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).post("/kycvalidation/completeresolvebvn",Object(s.a)({},a));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.next=3,L(t).post("/customer/uploaded-kyc-documents/create",a);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).delete("/customer/uploaded-kyc-documents/"+a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return re.apply(this,arguments)}function re(){return(re=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).post("/kycvalidation/resolveaccountnumber",a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).patch("/customer/bank-account/",a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=Object(b.a)((function(e){return{data:{},profileSection:[],loanEligibility:!1,initialize:function(t){e({data:t})},initializeProfileSection:function(t,a){e({profileSection:t,loanEligibility:a})}}}));var oe=function(e){var t=Object(d.g)(),a=se((function(e){return e.profileSection})),n="profile";return t.pathname.includes("/onboarding")&&(n="onboarding"),console.log(a),"profile"===n&&(a=a.filter((function(e){return e.editable_when_complete}))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex flex-col w-8/12 ml-12 mt-8"},a&&a.map((function(t,a){return r.a.createElement("div",{className:"flex justify-start items-center mb-5",key:a},r.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M6.9863 13.9061C10.8447 13.9061 13.9726 10.7931 13.9726 6.95307C13.9726 3.11299 10.8447 0 6.9863 0C3.12787 0 0 3.11299 0 6.95307C0 10.7931 3.12787 13.9061 6.9863 13.9061Z",fill:e.name===t.name?"#0770B0":!0===t.completed?"#38a169":"LOAN REQUEST"===e.name?"#0770B0":"#CCCCCC"}),r.a.createElement("path",{d:"M6.59318 9.76776C6.40268 9.76811 6.21723 9.7068 6.06481 9.59308L6.05536 9.58602L4.06551 8.06978C3.9731 7.9996 3.89551 7.91197 3.83717 7.8119C3.77883 7.71184 3.7409 7.60131 3.72553 7.48664C3.71017 7.37197 3.71767 7.25541 3.74762 7.14363C3.77757 7.03185 3.82938 6.92704 3.90008 6.83521C3.97077 6.74338 4.05898 6.66633 4.15963 6.60846C4.26028 6.5506 4.37141 6.51306 4.48666 6.49799C4.60191 6.48292 4.71902 6.49062 4.83127 6.52065C4.94353 6.55067 5.04873 6.60244 5.14086 6.67298L6.42973 7.65656L9.47552 3.7033C9.54616 3.61161 9.63426 3.53466 9.73478 3.47686C9.8353 3.41905 9.94627 3.38151 10.0614 3.36639C10.1765 3.35127 10.2934 3.35886 10.4056 3.38873C10.5177 3.4186 10.6229 3.47016 10.715 3.54047L10.6961 3.56606L10.7155 3.54084C10.9013 3.68298 11.0229 3.89269 11.0536 4.12395C11.0842 4.35521 11.0215 4.58914 10.8791 4.77441L7.29651 9.42439C7.21365 9.53154 7.1071 9.61826 6.98513 9.6778C6.86316 9.73735 6.72903 9.76813 6.59318 9.76776Z",fill:"white"})),r.a.createElement("h2",{className:e.name===t.name?"ml-8 text-gray-700 font-semibold":!0===t.completed?"ml-8 text-green-600 font-semibold":"LOAN REQUEST"===e.name?"ml-8 text-gray-700 font-semibold":"ml-8 text-gray-400 font-semibold"},t.label.toUpperCase()))}))))},me=a(15),ie=Object(d.i)((function(e){var t="profile";e.location.pathname.includes("/onboarding")&&(t="onboarding");var a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],s=l[1],o=se((function(e){return e.data})),d=Object(n.useState)(""),p=Object(u.a)(d,2),b=p[0],f=p[1],x=Object(n.useState)([]),h=Object(u.a)(x,2),v=h[0],w=h[1],E=Object(n.useState)(null),N=Object(u.a)(E,2),k=N[0],j=N[1],O=Object(n.useState)(null),L=Object(u.a)(O,2),C=L[0],_=L[1],S=Object(n.useState)(null),V=Object(u.a)(S,2),z=V[0],M=V[1],H=Object(n.useState)(!1),F=Object(u.a)(H,2),A=F[0],B=F[1],D=Object(n.useState)(!1),P=Object(u.a)(D,2),I=P[0],Z=P[1],q=g((function(e){return e.accessToken})),Y=Object(y.b)("data",(function(){return function(e){return T.apply(this,arguments)}(q)})),R=Y.isLoading,U=(Y.error,Y.data),W=Y.refetch;U&&U[0].completed&&("onboarding"===t?e.history.replace("/onboarding/personal"):e.history.replace("/profile/personal"));var X=Object(me.b)(),J=X.register,Q=(X.setValue,X.handleSubmit),$=X.errors;if(R)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"})));var ee=function(e){w(Object.values(e).flat())},te=function(){var a=Object(i.a)(m.a.mark((function a(){var n,r,l,c,i,u,d;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return w([]),s(!0),a.prev=2,(n={}).otp=C,n.requestid=z,n.user_id=o.user_id,a.next=9,K(q,n);case 9:if(r=a.sent,l=r.message,r.data,!1!==r.success){a.next=19;break}return(c=[]).push(l),w(c),s(!1),a.abrupt("return");case 19:w([]),j(l),setTimeout((function(){s(!1),W(),"onboarding"===t?e.history.push("/onboarding/personal"):e.history.push("/profile/personal")}),2e3),s(!1),Z(!0),a.next=43;break;case 26:if(a.prev=26,a.t0=a.catch(2),s(!1),!a.t0||500!=a.t0.response.status){a.next=34;break}return(i=[]).push(a.t0.response.data.message),w(i),a.abrupt("return");case 34:if(a.t0.response){a.next=39;break}return(u=[]).push("Network Error, Check Your Internet Connection"),w(u),a.abrupt("return");case 39:d=a.t0.response.data,console.log(d.errors),d.errors&&ee(d.errors),s(!1);case 43:case"end":return a.stop()}}),a,null,[[2,26]])})));return function(){return a.apply(this,arguments)}}(),ae=function(){var e=Object(i.a)(m.a.mark((function e(t){var a,n,r,l,c,i,u,d,p,b,g;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),w([]),e.prev=2,(a=t).user_id=o.user_id,e.next=7,G(q,a);case 7:if(n=e.sent,r=n.message,l=n.data,!1!==n.success){e.next=15;break}return(c=[]).push(r),w(c),s(!1),e.abrupt("return");case 15:i=l.mobile.split(""),u=", xxx-xxx-xxx-"+i[9]+i[10],d=r+" "+u,M(l.otprequestid),s(!1),f(d),B(!0),e.next=41;break;case 24:if(e.prev=24,e.t0=e.catch(2),s(!1),!e.t0||500!=e.t0.response.status){e.next=32;break}return(p=[]).push(e.t0.response.data.message),w(p),e.abrupt("return");case 32:if(e.t0.response){e.next=37;break}return(b=[]).push("Network Error, Check Your Internet Connection"),w(b),e.abrupt("return");case 37:g=e.t0.response.data,console.log(g.errors),g.errors&&ee(g.errors),s(!1);case 41:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200"},r.a.createElement(oe,{name:"bvn"})),r.a.createElement("div",{className:"w-full md:w-7/12 mb-6 px-8 relative"},r.a.createElement("h1",{className:"block text-gray-700 text-lg font-bold mb-2"},"BVN DETAILS"),v.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},v.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",k?r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},k)))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:b?"text-green-700 text-sm font-semibold":"text-gray-600 text-sm"},b||"We hate to ask, but regulations mandate us to.\n Your BVN is safe with us!"," "),r.a.createElement("form",{className:"rounded pt-10",onSubmit:Q(ae)},r.a.createElement("div",{className:"w-full -mx-3 mb-6"},r.a.createElement("div",{className:"flex flex-wrap "},r.a.createElement("div",{className:"md:w-3/5 px-3 mb-3"},r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Bank Verification No. (BVN)"),r.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"number",ref:J({required:!0,minLength:11}),name:"bvn",disabled:A}),$.bvn&&"required"===$.bvn.type&&r.a.createElement("p",{className:"text-red-500 text-xs italic"},"Please fill out this field."),$.bvn&&"minLength"===$.bvn.type&&r.a.createElement("p",{className:"text-red-500 text-xs italic"},"Minimum BVN length is 11.")),b?"":r.a.createElement("div",{className:" mb-24 mt-6 bottom-40 "},r.a.createElement("button",{disabled:c,className:"bg-blue-700 hover:bg-blue-800 text-white text-sm font-light py-3 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center",type:"submit"},r.a.createElement("span",null," Verify BVN "),c?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z",fill:"white"})))))),b?r.a.createElement("div",{className:"flex flex-wrap w-full"},r.a.createElement("div",{className:"md:w-3/5 px-3 "},r.a.createElement("input",{name:"otp",onInput:function(e){_(e.target.value)},className:"shadow appearance-none border rounded w-full py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"number",placeholder:"Enter the OTP sent to your phone..."})),r.a.createElement("button",{onClick:te,disabled:c,className:"bg-blue-700 hover:bg-blue-800 text-white text-sm font-light py-3 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("span",null," Validate OTP"),c?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z",fill:"white"}))))):r.a.createElement(r.a.Fragment,null)))),r.a.createElement("div",{className:"flex justify-end w-full pr-0 md:pr-4 mt-10"},r.a.createElement("div",{className:"inline-flex justify-end"},r.a.createElement("button",{disabled:!I,onClick:function(){return"onboarding"===t?e.history.push("/onboarding/personal"):e.history.push("/profile/personal")},className:I?"bg-green-600 hover:bg-green-700 text-md md:text-xl font-light py-3 px-6 md:py-3 md:px-8 rounded focus:outline-none focus:shadow-outline inline-flex items-center":"bg-gray-400 text-md md:text-xl font-light py-3 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed",type:"button"},r.a.createElement("span",null," Next "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"}))))))))}));function ue(e){return de.apply(this,arguments)}function de(){return(de=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/customer/profile");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pe=a(83),be=a.n(pe),ge=(a(253),a(126)),fe=a.n(ge),xe=function(e){var t,a,l=e.label,c=e.name,s=e.required,o=e.errors,m=e.register,i=e.type,u=e.options,d=e.value,p=e.format,b=void 0===p?"":p,g=e.Controller,f=e.control,x=e.readonly,h=void 0!==x&&x,v=e.readonlyValue,w=e.toggleInput,E=e.filteredBy,y=void 0===E?null:E,N=(e.filterField,e.filteredOptions),k=void 0===N?{}:N,j=e.getChildFieldOptions,O=void 0===j?function(e,t){}:j,L=null,C=Object(n.useRef)(k);(null===(t=C.current)||void 0===t?void 0:t.name)||(C.current=k),C.current.name==k.name&&(C.current=k);switch(i){case"text":L=r.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",ref:m({required:s&&!v}),name:c,defaultValue:d,readOnly:v||h});break;case"email":L=r.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"email",ref:m({required:s&&!v}),name:c,defaultValue:d,readOnly:v||h});break;case"boolean":var _=!v;L=r.a.createElement(fe.a,{name:c,onChange:w,checked:_});break;case"mobile":case"phone":L=r.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"tel",ref:m({required:s&&!v}),name:c,defaultValue:d,readOnly:v||h});break;case"number":L=r.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"number",ref:m({required:s&&!v}),name:c,defaultValue:d,readOnly:v||h});break;case"date":if("Y"===b)if(d){var S=new Date;S.setFullYear(d),console.log(S),L=r.a.createElement(g,{control:f,name:c,rules:{required:s},defaultValue:S,render:function(e){var t=e.onChange,a=e.onBlur,n=e.value;return r.a.createElement(be.a,{onChange:t,onBlur:a,selected:n,showYearPicker:!0,yearItemNumber:9,dateFormat:"yyyy",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"})}})}else L=r.a.createElement(g,{control:f,name:c,rules:{required:s},render:function(e){var t=e.onChange,a=e.onBlur,n=e.value;return r.a.createElement(be.a,{onChange:t,onBlur:a,selected:n,showYearPicker:!0,yearItemNumber:9,dateFormat:"yyyy",className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"})}});else L=r.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"date",ref:m({required:s&&!v}),name:c,defaultValue:d,readOnly:v||h});break;case"file":L=r.a.createElement("input",{type:"file",ref:m({required:s&&!v}),name:c,className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"});break;case"select":L=r.a.createElement("div",{className:"relative"},r.a.createElement("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-state",ref:m({required:s&&!v}),name:c,disabled:v||h,onChange:function(e){O(c,e.target.value)}},y?r.a.createElement(r.a.Fragment,null,C.current.options?null:d?r.a.createElement("option",{value:d},null===(a=u.find((function(e){return e.value==d})))||void 0===a?void 0:a.label):r.a.createElement("option",{value:""}),C.current.name==c?C.current.options.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value,selected:e.value===d},e.label)})):null):r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{value:""},"- Select -"),u&&u.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value,selected:e.value===d},e.label)})))),r.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 "},r.a.createElement("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))));break;default:L=r.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",ref:m({required:s&&!v}),name:c,defaultValue:d,readOnly:v||h})}return r.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-3"},r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},l),L,o[c]&&"required"===o[c].type&&r.a.createElement("p",{className:"text-red-500 text-xs italic"},"Please fill out this field."))},he=function(e){var t="profile";e.location.pathname.includes("/onboarding")&&(t="onboarding");var a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)([]),d=Object(u.a)(o,2),p=d[0],b=d[1],f=se((function(e){return e.data})),x=g((function(e){return e.accessToken})),h=Object(n.useState)(!1),v=Object(u.a)(h,2),w=v[0],E=v[1],N=Object(y.b)("personaldetails",(function(){return function(e){return B.apply(this,arguments)}(x)})),k=N.isLoading,j=(N.error,N.data),O=Object(y.b)("personalDetailssections",(function(){return q(x)})),L=O.isLoading,C=(O.error,O.data),_=O.refetch,S=function(){var e=Object(i.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(x);case 2:t=e.sent,V(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){S()}),[]);var V=se(Object(n.useCallback)((function(e){return e.initialize}),[])),z=se(Object(n.useCallback)((function(e){return e.initializeProfileSection}),[]));Object(n.useEffect)((function(){C&&z([].concat(C),C.every((function(e){return!0===e.completed})))}),[C,z]);var M=Object(me.b)(),H=M.register,F=M.handleSubmit,A=M.errors,T=(M.reset,M.control,M.unregister,Object(n.useState)(!1)),D=Object(u.a)(T,2),P=D[0],I=D[1];if(k||L)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"})));var Z=function(){E((function(e){return!e}))},Y=function(e){b(Object.values(e).flat())},R=function(){var a=Object(i.a)(m.a.mark((function a(n,r){var l,c,o,i,u,d;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l={},j.map((function(e){l[e.name]=n[e.name]})),s(!0),a.prev=3,a.next=6,W(x,l);case 6:c=a.sent,r.target.reset(),I(!0),s(!1),o=c.data,V(o),b([]),setTimeout((function(){I(!1),s(!1),_(),"onboarding"===t?e.history.push("/onboarding/next_of_kin"):e.history.replace("/profile/personal")}),2e3),a.next=31;break;case 16:if(a.prev=16,a.t0=a.catch(3),s(!1),!a.t0||500!==a.t0.response.status){a.next=24;break}return(i=[]).push(a.t0.response.data.message),b(i),a.abrupt("return");case 24:if(a.t0.response){a.next=29;break}return(u=[]).push("Network Error, Check Your Internet Connection"),b(u),a.abrupt("return");case 29:(d=a.t0.response.data).errors&&Y(d.errors);case 31:case"end":return a.stop()}}),a,null,[[3,16]])})));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200"},r.a.createElement(oe,{name:"personal"}),r.a.createElement("img",{src:"/img/checklists.svg",alt:"",className:"w-1/4 m-auto pt-16"})),r.a.createElement("div",{className:"md:w-7/12 w-full mb-6 px-8 relative"},r.a.createElement("h1",{className:"block text-gray-700 text-lg font-bold mb-4"},"PERSONAL DETAILS"),p.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},p.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",P?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-bold"},"Sent successfully"),r.a.createElement("p",{className:"text-sm"},"Personal details created successfully"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"w-full max-w-lg",onSubmit:F(R)},r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6"},j&&j.map((function(e,t){return r.a.createElement(xe,{key:t,label:e.label,name:e.name,required:e.required,errors:A,register:H,type:e.type,options:e.options,value:f[e.name],Controller:!0,control:!0,readonly:e.readonly,readonlyValue:w,toggleInput:Z})}))),r.a.createElement("div",{className:"flex items-center justify-between mt-5 mb-16"},r.a.createElement("button",{className:"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg",type:"submit"},r.a.createElement("span",null," Save "),c?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z",fill:"white"}))))))),r.a.createElement("div",{className:"flex justify-end w-full pr-0  mt-10"},r.a.createElement("div",{className:"md:inline-flex justify-end"},r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/bvn"):e.history.push("/profile/bvn")},className:"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-3 px-6 md:py-3 md:px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("svg",{className:"mr-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_left_24px",d:"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z",fill:"white"}))),r.a.createElement("span",null," Previous ")),r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/next_of_kin"):e.history.push("/profile/next_of_kin")},className:"bg-green-600 hover:bg-green-700 text-white text-md md:text-xl font-light py-3 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("span",null," Next "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"}))))))))},ve=function(e){var t="profile";e.location.pathname.includes("/onboarding")&&(t="onboarding");var a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),p=d[0],b=d[1],f=Object(n.useState)(!1),x=Object(u.a)(f,2),h=(x[0],x[1]),v=Object(n.useState)(!1),w=Object(u.a)(v,2),E=w[0],N=w[1],k=Object(n.useState)(!1),j=Object(u.a)(k,2),O=j[0],L=j[1],C=g((function(e){return e.accessToken})),_=se((function(e){return e.data})),S=Object(y.b)("education",(function(){return function(e){return P.apply(this,arguments)}(C)})),V=S.isLoading,z=(S.error,S.data),M=Object(y.b)("educationalSections",(function(){return q(C)})),H=M.isLoading,F=(M.error,M.data),A=M.refetch,B=Object(me.b)(),T=B.register,D=B.handleSubmit,I=B.errors,Z=B.reset,Y=B.control;Object(n.useEffect)((function(){Z(_)}),[Z]);var R=function(){var e=Object(i.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(C);case 2:t=e.sent,U(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){R()}),[]);var U=se(Object(n.useCallback)((function(e){return e.initialize}),[])),X=se(Object(n.useCallback)((function(e){return e.initializeProfileSection}),[]));if(Object(n.useEffect)((function(){F&&X([].concat(F),F.every((function(e){return!0===e.completed})))}),[F,X]),V||H)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"})));var G=function(){L((function(e){return!e}))},J=function(e){s(Object.values(e).flat())},K=function(){var a=Object(i.a)(m.a.mark((function a(n){var r,l,c,o,i,u,d,p;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=new Date(n.year_of_graduation),l=r.getFullYear(),n.year_of_graduation=l,c={},z.map((function(e){c[e.name]=n[e.name]})),h(!0),b(!0),a.prev=7,a.next=10,W(C,c);case 10:o=a.sent,N(!0),i=o.data,U(i),setTimeout((function(){N(!1),b(!1),A(),"onboarding"===t?e.history.push("/onboarding/employment"):e.history.replace("/profile/education")}),2e3),h(!1),b(!1),s([]),a.next=35;break;case 20:if(a.prev=20,a.t0=a.catch(7),b(!1),!a.t0||500!=a.t0.response.status){a.next=28;break}return(u=[]).push(a.t0.response.data.message),s(u),a.abrupt("return");case 28:if(a.t0.response){a.next=33;break}return(d=[]).push("Network Error, Check Your Internet Connection"),s(d),a.abrupt("return");case 33:(p=a.t0.response.data).errors&&J(p.errors);case 35:case"end":return a.stop()}}),a,null,[[7,20]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200"},r.a.createElement(oe,{name:"education"}),r.a.createElement("img",{src:"/img/checklists.svg",alt:"",className:"w-1/4 m-auto pt-16"})),r.a.createElement("div",{className:"md:w-7/12 w-full mb-6 px-8 relative"},r.a.createElement("h1",{className:"block text-gray-700 text-lg font-bold mb-4"},"EDUCATION"),c.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},c.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",E?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-bold"},"Sent successfully"),r.a.createElement("p",{className:"text-sm"},"Educational details created successfully"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"w-full max-w-lg",onSubmit:D(K)},r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6"},z&&z.map((function(e,t){return r.a.createElement(xe,{key:t,label:e.label,name:e.name,required:e.required,errors:I,register:T,type:e.type,options:e.options,value:_[e.name],format:e.format,Controller:me.a,control:Y,readonly:e.readonly,readonlyValue:O,toggleInput:G})}))),r.a.createElement("div",{className:"flex items-center justify-between mt-5 mb-16"},r.a.createElement("button",{className:"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg",type:"submit"},r.a.createElement("span",null," Save "),p?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z",fill:"white"}))))))),r.a.createElement("div",{className:"flex justify-end w-full pr-0 md:pr-4 mt-10"},r.a.createElement("div",{className:"inline-flex justify-end"},r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/contact"):e.history.push("/profile/contact")},className:"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("svg",{className:"mr-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_left_24px",d:"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z",fill:"white"}))),r.a.createElement("span",null," Previous ")),r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/employment"):e.history.push("/profile/employment")},className:"bg-green-600 hover:bg-green-700 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("span",null," Next "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"}))))))))},we=function(e){var t="profile";e.location.pathname.includes("/onboarding")&&(t="onboarding");var a=Object(n.useState)(""),l=Object(u.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(""),d=Object(u.a)(o,2),p=d[0],b=d[1],f=Object(n.useState)(""),x=Object(u.a)(f,2),h=x[0],v=x[1],w=Object(n.useState)([]),E=Object(u.a)(w,2),N=E[0],k=E[1],j=Object(n.useState)(!1),O=Object(u.a)(j,2),L=O[0],C=O[1],_=Object(n.useState)(!1),S=Object(u.a)(_,2),V=S[0],z=S[1],M=se((function(e){return e.data})),H=Object(n.useState)(!1),F=Object(u.a)(H,2),A=F[0],B=F[1],T=Object(n.useState)([]),D=Object(u.a)(T,2),P=D[0],I=D[1],Y=g((function(e){return e.accessToken})),R=Object(n.useState)(!1),U=Object(u.a)(R,2),W=(U[0],U[1],Object(y.b)("account",(function(){return function(e){return Z.apply(this,arguments)}(Y)}))),X=W.isLoading,G=(W.error,W.data),J=Object(me.b)(),K=J.register,Q=J.handleSubmit,$=J.errors,ee=(J.control,J.reset),te=Object(n.useState)(!1),ae=Object(u.a)(te,2),re=ae[0],ce=ae[1],ie=function(){var e=Object(i.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(Y);case 2:t=e.sent,de(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){ie()}),[]);var de=se(Object(n.useCallback)((function(e){return e.initialize}),[])),pe=se(Object(n.useCallback)((function(e){return e.initializeProfileSection}),[])),be=Object(y.b)("AccountSections",(function(){return q(Y)})),ge=be.isLoading,fe=(be.error,be.data),xe=be.refetch;if(Object(n.useEffect)((function(){fe&&pe([].concat(fe),fe.every((function(e){return!0===e.completed})))}),[fe,pe]),Object(n.useEffect)((function(){ee(M)}),[ee]),Object(n.useEffect)((function(){var e=G&&G.filter((function(e){return"bank"===e.name}));I(e&&e[0].options)}),[G]),X||ge)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"})));var he=function(e){k(Object.values(e).flat())},ve=function(){var e=Object(i.a)(m.a.mark((function e(t){var a,n,r,l,c,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,ne(Y,t);case 4:if(a=e.sent,n=a.message,r=a.data,!1!==a.success){e.next=14;break}return(l=[]).push(n),k(l),C(!1),e.abrupt("return");case 14:b(t.bank_code),v(t.account_number),C(!1),k([]),B(!0),s((function(e){return r.account_name})),e.next=38;break;case 22:if(e.prev=22,e.t0=e.catch(1),C(!1),!e.t0||500!=e.t0.response.status){e.next=30;break}return(c=[]).push(e.t0.response.data.message),k(c),e.abrupt("return");case 30:if(e.t0.response){e.next=35;break}return(o=[]).push("Network Error, Check Your Internet Connection"),k(o),e.abrupt("return");case 35:i=e.t0.response.data,console.log(i.errors),i.errors&&he(i.errors);case 38:case"end":return e.stop()}}),e,null,[[1,22]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var a=Object(i.a)(m.a.mark((function a(){var n,r,l,c,s,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={bank:p,bank_account_no:h},z(!0),a.prev=2,a.next=5,le(Y,n);case 5:r=a.sent,ce(!0),l=r.data,de(l),setTimeout((function(){ce(!1),C(!1),xe(),"onboarding"===t?e.history.push("/onboarding/documents"):e.history.replace("/profile/account")}),2e3),k([]),a.next=28;break;case 13:if(a.prev=13,a.t0=a.catch(2),z(!1),!a.t0||500!=a.t0.response.status){a.next=21;break}return(c=[]).push(a.t0.response.data.message),k(c),a.abrupt("return");case 21:if(a.t0.response){a.next=26;break}return(s=[]).push("Network Error, Check Your Internet Connection"),k(s),a.abrupt("return");case 26:(o=a.t0.response.data).errors&&he(o.errors);case 28:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200"},r.a.createElement(oe,{name:"account"}),r.a.createElement("img",{src:"/img/checklists.svg",alt:"",className:"w-1/4 m-auto pt-16"})),r.a.createElement("div",{className:"md:w-7/12 w-full mb-6 px-8 relative"},r.a.createElement("h1",{className:"block text-gray-700 text-lg font-bold mb-2"},"ACCOUNT DETAILS"),N.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},N.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",re?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-bold"},"Sent successfully"),r.a.createElement("p",{className:"text-sm"},"Account details created successfully"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"w-full max-w-lg",onSubmit:Q(ve)},r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6"},r.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-3"},r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Bank"),r.a.createElement("div",{className:"relative"},r.a.createElement("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-state",name:"bank_code",ref:K({required:!0})},r.a.createElement("option",{value:""},"- Select -"),P&&P.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)}))),r.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 "},r.a.createElement("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}))))),r.a.createElement("div",{className:"w-full md:w-1/2 px-3 mb-3"},r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Account No."),r.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",ref:K({required:!0}),name:"account_number",onChange:function(e){return function(e){v(e.target.value)}(e)}}),$.account_number&&"required"===$.account_number.type&&r.a.createElement("p",{className:"text-red-500 text-xs italic"},"Please fill out this field.")),c?r.a.createElement("div",{className:"w-full md:w-4/5 px-3 mb-3"},r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Account Name."),r.a.createElement("input",{className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-last-name",type:"text",disabled:!0,value:c})):""),r.a.createElement("div",{className:"flex items-center justify-between mb-16"},r.a.createElement("button",{className:"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-lg font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg",type:"submit"},r.a.createElement("span",null," Validate Account "),L?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z",fill:"white"})))),A?r.a.createElement("button",{className:"bg-blue-700 hover:bg-blue-800 text-white text-lg md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg",type:"button",onClick:function(){return we()}},r.a.createElement("span",null," Submit "),V?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z",fill:"white"})))):""))),r.a.createElement("div",{className:"flex justify-end w-full pr-0 md:pr-4 mt-10"},r.a.createElement("div",{className:"inline-flex justify-end"},r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/employment"):e.history.push("/profile/employment")},className:"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("svg",{className:"mr-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_left_24px",d:"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z",fill:"white"}))),r.a.createElement("span",null," Previous ")),r.a.createElement("button",{disabled:!re,onClick:function(){return"onboarding"===t?e.history.push("/onboarding/documents"):e.history.push("/profile/documents")},className:re?"bg-green-600 hover:bg-green-700 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center":"bg-gray-400 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed",type:"button"},r.a.createElement("span",null," Next "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"}))))))))},Ee=function e(t){return Object.keys(t).forEach((function(a){return t[a]&&"object"===typeof t[a]&&e(t[a])||!t[a]&&void 0!==t[a]&&delete t[a]})),t},ye=function(e){var t="profile";e.location.pathname.includes("/onboarding")&&(t="onboarding");var a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),p=d[0],b=d[1],f=g((function(e){return e.accessToken})),x=se((function(e){return e.data})),h=Object(n.useState)(!1),v=Object(u.a)(h,2),w=v[0],E=v[1],N=Object(y.b)("employment",(function(){return function(e){return I.apply(this,arguments)}(f)})),k=N.isLoading,j=(N.error,N.data),O=Object(y.b)("employmentSections",(function(){return q(f)})),L=O.isLoading,C=(O.error,O.data),_=O.refetch,S=Object(n.useState)(!1),V=Object(u.a)(S,2),z=V[0],M=V[1],H=Object(me.b)(),F=H.register,A=H.handleSubmit,B=H.errors,T=H.reset,D=(H.control,function(){var e=Object(i.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(f);case 2:t=e.sent,P(t.data),E(t.data.is_employed),console.log("this is set",t.data.is_employed);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){D()}),[]);var P=se(Object(n.useCallback)((function(e){return e.initialize}),[])),Z=se(Object(n.useCallback)((function(e){return e.initializeProfileSection}),[]));if(Object(n.useEffect)((function(){C&&Z([].concat(C),C.every((function(e){return!0===e.completed})))}),[C,Z]),Object(n.useEffect)((function(){T(x)}),[T]),k||L)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"})));var Y=function(e){E((function(t){return!1===t?(T(),e):e}))},R=function(e){s(Object.values(e).flat())},U=function(){var a=Object(i.a)(m.a.mark((function a(n){var r,l,c,o,i,u;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return b(!0),n.is_employed=w,r={},j.forEach((function(e){"is_employed"==e.name&&(r[e.name]=n[e.name]),n.is_employed&&(r[e.name]=n[e.name])})),r=Ee(r),a.prev=5,b(!0),a.next=9,W(f,r);case 9:l=a.sent,M(!0),c=l.data,P(c),setTimeout((function(){M(!1),b(!1),_(),"onboarding"===t?e.history.push("/onboarding/account"):e.history.replace("/profile/employment")}),2e3),s([]),a.next=32;break;case 17:if(a.prev=17,a.t0=a.catch(5),b(!1),!a.t0||500!=a.t0.response.status){a.next=25;break}return(o=[]).push(a.t0.response.data.message),s(o),a.abrupt("return");case 25:if(a.t0.response){a.next=30;break}return(i=[]).push("Network Error, Check Your Internet Connection"),s(i),a.abrupt("return");case 30:(u=a.t0.response.data).errors&&R(u.errors);case 32:case"end":return a.stop()}}),a,null,[[5,17]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200"},r.a.createElement(oe,{name:"employment"}),r.a.createElement("img",{src:"/img/checklists.svg",alt:"",className:"w-1/4 m-auto pt-16"})),r.a.createElement("div",{className:"md:w-7/12 w-full mb-6 px-8 relative"},r.a.createElement("h1",{className:"block text-gray-700 text-lg font-bold mb-2"},"EMPLOYMENT DETAILS"),c.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},c.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",z?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-bold"},"Sent successfully"),r.a.createElement("p",{className:"text-sm"},"Employment details created successfully"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"w-full max-w-lg",onSubmit:A(U)},r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6"},j&&j.map((function(e,t){return r.a.createElement(xe,{key:t,label:e.label,name:e.name,required:e.required,errors:B,register:F,type:e.type,options:e.options,value:x[e.name],Controller:!0,control:!0,readonly:e.readonly,readonlyValue:!w,toggleInput:Y})}))),r.a.createElement("div",{className:"flex items-center justify-between mb-16"},r.a.createElement("button",{className:"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg",type:"submit"},r.a.createElement("span",null," Save "),p?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z",fill:"white"}))))))),r.a.createElement("div",{className:"flex justify-end w-full pr-0 md:pr-4 mt-10"},r.a.createElement("div",{className:"inline-flex justify-end"},r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/education"):e.history.push("/profile/education")},className:"bg-gray-500 hover:bg-gray-600 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("svg",{className:"mr-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_left_24px",d:"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z",fill:"white"}))),r.a.createElement("span",null," Previous ")),r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/account"):e.history.push("/profile/account")},className:"bg-green-600 hover:bg-green-700 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("span",null," Next "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"}))))))))},Ne=a(9),ke=function(e){var t="profile";e.location.pathname.includes("/onboarding")&&(t="onboarding");var a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),p=d[0],b=d[1],f=Object(n.useState)([]),x=Object(u.a)(f,2),h=x[0],v=x[1],w=Object(n.useState)(!1),E=Object(u.a)(w,2),N=E[0],k=E[1],j=se((function(e){return e.data})),O=Object(me.b)(),L=(O.register,O.handleSubmit,O.errors,Object(n.useState)(!1)),C=Object(u.a)(L,2),_=C[0],S=C[1],V=g((function(e){return e.accessToken})),z=Object(y.b)("identity",(function(){return function(e){return U.apply(this,arguments)}(V)})),M=z.isLoading,H=(z.error,z.data),F=Object(n.useState)(j.kyc_documents),A=Object(u.a)(F,2),B=A[0],T=A[1],D=Object(n.useState)(!1),P=Object(u.a)(D,2),I=P[0],Z=(P[1],Object(y.b)("sections",(function(){return q(V)}))),Y=Z.isLoading,R=(Z.error,Z.data),W=se(Object(n.useCallback)((function(e){return e.initializeProfileSection}),[]));Object(n.useEffect)((function(){R&&W(R,R.every((function(e){return!0===e.completed})))}),[R]),Object(n.useEffect)((function(){T(j.kyc_documents)}),[j]);var X=R&&R.every((function(e){return!0===e.completed}));if(console.log(X),M||Y)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"})));var G=function(e){s(Object.values(e).flat())},J=function(){var e=Object(i.a)(m.a.mark((function e(t){var a,n,r,l,c,o,i,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.length){e.next=2;break}return e.abrupt("return");case 2:return b(!0),a=[],a=Object(Ne.a)(h),[],n=a.filter((function(e){return e.name==t})),e.prev=7,(r=new FormData).append("document",n[0].value),r.append("tag",t),e.next=13,$(V,r);case 13:l=e.sent,l.message,c=l.data,(o=Object(Ne.a)(B)).push(c),T(o),b(!1),s([]),S(!0),setTimeout((function(){S(!1)}),8e3),e.next=39;break;case 24:if(e.prev=24,e.t0=e.catch(7),b(!1),!e.t0||500!=e.t0.response.status){e.next=32;break}return(i=[]).push(e.t0.response.data.message),s(i),e.abrupt("return");case 32:if(e.t0.response){e.next=37;break}return(u=[]).push("Network Error, Check Your Internet Connection"),s(u),e.abrupt("return");case 37:(d=e.t0.response.data).errors&&G(d.errors);case 39:case"end":return e.stop()}}),e,null,[[7,24]])})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(i.a)(m.a.mark((function e(t){var a,n,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,te(V,t);case 4:e.sent,a=B.filter((function(e){return e.id!=t})),T(a),b(!1),k(!0),setTimeout((function(){k(!1)}),8e3),e.next=27;break;case 12:if(e.prev=12,e.t0=e.catch(1),b(!1),!e.t0||500!=e.t0.response.status){e.next=20;break}return(n=[]).push(e.t0.response.data.message),s(n),e.abrupt("return");case 20:if(e.t0.response){e.next=25;break}return(r=[]).push("Network Error, Check Your Internet Connection"),s(r),e.abrupt("return");case 25:(l=e.t0.response.data).errors&&G(l.errors);case 27:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200"},r.a.createElement(oe,{name:"documents"}),r.a.createElement("img",{src:"/img/checklists.svg",alt:"",className:"w-1/4 m-auto pt-16"})),r.a.createElement("div",{className:"md:w-7/12 w-full mb-6 px-8 relative"},r.a.createElement("h1",{className:"block text-gray-700 text-lg font-bold mb-2"},"UPLOAD YOUR ID"),N?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},"Deleted successfully"))))):"",_?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},"Uploaded successfully"))))):"",c.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},c.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",p?r.a.createElement("img",{src:"/img/30.gif",className:"ml-2 my-5 w-auto m-auto",alt:""}):"",r.a.createElement("div",{className:"flex flex-col my-10"},r.a.createElement("form",{className:"w-full max-w-lg"},r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6"},H&&H.map((function(e,t){return r.a.createElement("div",{className:"flex flex-wrap "},r.a.createElement("div",{className:"md:w-3/5 px-3 my-4"},r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},e.label),r.a.createElement("input",{type:"file",name:e.name,className:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",onChange:function(t){return function(e,t){var a,n=[];n=Object(Ne.a)(h),a={value:e.target.files[0],name:t};var r=[];if((r=n.filter((function(e){return e.name==t}))).length){r[0].value=e.target.files[0];var l,c;(l=n.filter((function(e){return e.name!=t}))).length&&(c=r).push.apply(c,Object(Ne.a)(l)),v(r)}else n.push(a),v(n)}(t,e.name)}})),r.a.createElement("div",{className:"flex items-center justify-between mt-5"},r.a.createElement("button",{className:"bg-blue-700 hover:bg-blue-800 text-white text-sm md:text-lg font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg",type:"button",onClick:function(){return J(e.name)}},r.a.createElement("span",null," Upload "),r.a.createElement("svg",{className:"ml-2",width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"save_icon"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z",fill:"white"}))))))})))),r.a.createElement("div",{className:"w-full my-10"},B&&B.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"text-gray-700 text-lg font-medium mb-4"},"Uploaded Documents")):"",B&&B.map((function(e){return r.a.createElement("div",{className:"flex items-center border my-2 border-t-0 border-r-0 border-l-0 pb-2"},r.a.createElement("div",{className:"w-3/5"},e.tag),r.a.createElement("div",{className:"w-2/5 text-center"},r.a.createElement("button",{className:"bg-red-600 py-1 px-2 text-white rounded-lg",onClick:function(){return K(e.id)}},"X")))})))),r.a.createElement("div",{className:"flex justify-end w-full pr-0 md:pr-4 mt-10"},r.a.createElement("div",{className:"inline-flex justify-end"},r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/account"):e.history.push("/profile/account")},className:"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("svg",{className:"mr-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_left_24px",d:"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z",fill:"white"}))),r.a.createElement("span",null," Previous ")),"onboarding"===t?r.a.createElement("button",{disabled:!I,onClick:function(){return e.history.push("/new-loan-request")},className:I&&I?"bg-green-600 hover:bg-green-700 text-white text-xl font-light py-3 px-10 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center":"bg-gray-400 text-white text-xl font-light py-3 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed",type:"button"},r.a.createElement("span",null," Complete "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z",fill:"white"})))):""))))},je=function(e){var t="profile";e.location.pathname.includes("/onboarding")&&(t="onboarding");var a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],o=l[1],d=se((function(e){return e.data})),p=Object(n.useState)([]),b=Object(u.a)(p,2),f=b[0],x=b[1],h=g((function(e){return e.accessToken})),v=Object(n.useState)(!1),w=Object(u.a)(v,2),E=w[0],N=w[1],k=Object(y.b)("nextofkin",(function(){return function(e){return D.apply(this,arguments)}(h)})),j=k.isLoading,O=(k.error,k.data),L=Object(y.b)("nextOfKinsections",(function(){return q(h)})),C=L.isLoading,_=(L.error,L.data),S=L.refetch,V=Object(me.b)(),z=V.register,M=V.handleSubmit,H=V.errors,F=V.reset,A=V.control,B=Object(n.useState)(!1),T=Object(u.a)(B,2),P=T[0],I=T[1],Z=Object(n.useState)([]),Y=Object(u.a)(Z,2),R=Y[0],U=Y[1],X=function(){var e=Object(i.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(h);case 2:t=e.sent,G(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){X()}),[]);var G=se(Object(n.useCallback)((function(e){return e.initialize}),[])),J=se(Object(n.useCallback)((function(e){return e.initializeProfileSection}),[]));function K(e,t){A.setValue(e,t);var a=O.filter((function(t){return t.filtered_by&&t.filtered_by==e}));if(a){a.forEach((function(e){A.setValue(e.name,null)}));var n=a.map((function(e){return Object(s.a)(Object(s.a)({},e),{options:e.options.filter((function(a){return a[e.filter_field]==t}))})}));U(n)}}if(Object(n.useEffect)((function(){_&&J([].concat(_),_.every((function(e){return!0===e.completed})))}),[_,J]),Object(n.useEffect)((function(){F(d)}),[F]),j||C)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"})));var Q=function(e){x(Object.values(e).flat())},$=function(){N((function(e){return!e}))},ee=function(){var a=Object(i.a)(m.a.mark((function a(n){var r,l,c,s,i,u;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={},O.map((function(e){r[e.name]=n[e.name]})),o(!0),a.prev=3,a.next=6,W(h,r);case 6:l=a.sent,I(!0),c=l.data,G(c),x([]),setTimeout((function(){I(!1),o(!1),S(),"onboarding"===t?e.history.push("/onboarding/contact"):e.history.replace("/profile/next_of_kin")}),2e3),a.next=29;break;case 14:if(a.prev=14,a.t0=a.catch(3),o(!1),!a.t0||500!=a.t0.response.status){a.next=22;break}return(s=[]).push(a.t0.response.data.message),x(s),a.abrupt("return");case 22:if(a.t0.response){a.next=27;break}return(i=[]).push("Network Error, Check Your Internet Connection"),x(i),a.abrupt("return");case 27:(u=a.t0.response.data).errors&&Q(u.errors);case 29:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200"},r.a.createElement(oe,{name:"next_of_kin"}),r.a.createElement("img",{src:"/img/checklists.svg",alt:"",className:"w-1/4 m-auto pt-16"})),r.a.createElement("div",{className:"md:w-7/12 w-full mb-6 px-8 relative"},r.a.createElement("h1",{className:"block text-gray-700 text-lg font-bold mb-2"},"Next of Kin"),f.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},f.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",P?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-bold"},"Sent successfully"),r.a.createElement("p",{className:"text-sm"},"Next of Kin created successfully"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"w-full max-w-lg",onSubmit:M(ee)},r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6"},O&&O.map((function(e,t){var a;return r.a.createElement(xe,{key:t,label:e.label,name:e.name,required:e.required,errors:H,register:z,type:e.type,options:e.options,value:d[e.name],Controller:!0,control:!0,readonly:e.readonly,readonlyValue:E,toggleInput:$,filteredBy:null!==(a=e.filtered_by)&&void 0!==a?a:null,getChildFieldOptions:K,filteredOptions:R.find((function(t){return t.name===e.name}))})}))),r.a.createElement("div",{className:"flex items-center justify-between mb-16"},r.a.createElement("button",{className:"bg-blue-700 hover:bg-blue-800 text-white text-lg md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg",type:"submit"},r.a.createElement("span",null," Save "),c?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z",fill:"white"}))))))),r.a.createElement("div",{className:"flex justify-end w-full pr-0 md:pr-4 mt-10"},r.a.createElement("div",{className:"md:inline-flex justify-end"},r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/personal"):e.history.push("/profile/personal")},className:"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("svg",{className:"mr-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_left_24px",d:"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z",fill:"white"}))),r.a.createElement("span",null," Previous ")),r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/contact"):e.history.push("/profile/contact")},className:"bg-green-600 hover:bg-green-700 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("span",null," Next "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"}))))))))},Oe=function(e){var t="profile";e.location.pathname.includes("/onboarding")&&(t="onboarding");var a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],o=l[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),b=p[0],f=p[1],x=se((function(e){return e.data})),h=g((function(e){return e.accessToken})),v=Object(n.useState)(!1),w=Object(u.a)(v,2),E=w[0],N=w[1],k=Object(y.b)("contact",(function(){return function(e){return R.apply(this,arguments)}(h)})),j=k.isLoading,O=(k.error,k.data),L=Object(y.b)("contactSections",(function(){return q(h)})),C=L.isLoading,_=(L.error,L.data),S=L.refetch,V=Object(me.b)(),z=V.register,M=V.handleSubmit,H=V.errors,F=V.reset,A=V.control,B=Object(n.useState)(!1),T=Object(u.a)(B,2),D=T[0],P=T[1],I=Object(n.useState)([]),Z=Object(u.a)(I,2),Y=Z[0],U=Z[1];Object(n.useEffect)((function(){F(x)}),[F]);var X=function(){var e=Object(i.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(h);case 2:t=e.sent,G(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){X()}),[]);var G=se(Object(n.useCallback)((function(e){return e.initialize}),[])),J=se(Object(n.useCallback)((function(e){return e.initializeProfileSection}),[]));function K(e,t){A.setValue(e,t);var a=O.filter((function(t){return t.filtered_by&&t.filtered_by==e}));if(a){a.forEach((function(e){A.setValue(e.name,null)}));var n=a.map((function(e){return Object(s.a)(Object(s.a)({},e),{options:e.options.filter((function(a){return a[e.filter_field]==t}))})}));U(n)}}if(Object(n.useEffect)((function(){_&&J([].concat(_),_.every((function(e){return!0===e.completed})))}),[_,J]),j||C)return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"})));var Q=function(){N((function(e){return!e}))},$=function(e){o(Object.values(e).flat())},ee=function(){var a=Object(i.a)(m.a.mark((function a(n){var r,l,c,s,i,u;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f(!0),r={},O.map((function(e){r[e.name]=n[e.name]})),a.prev=3,a.next=6,W(h,r);case 6:l=a.sent,P(!0),c=l.data,G(c),setTimeout((function(){P(!1),f(!1),S(),"onboarding"===t?e.history.push("/onboarding/education"):e.history.replace("/profile/contact")}),2e3),f(!1),o([]),a.next=31;break;case 15:if(a.prev=15,a.t0=a.catch(3),f(!1),!a.t0||500!=a.t0.response.status){a.next=23;break}return(s=[]).push(a.t0.response.data.message),o(s),a.abrupt("return");case 23:if(a.t0.response){a.next=28;break}return(i=[]).push("Network Error, Check Your Internet Connection"),o(i),a.abrupt("return");case 28:u=a.t0.response.data,console.log(u.errors),u.errors&&$(u.errors);case 31:case"end":return a.stop()}}),a,null,[[3,15]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hidden md:block w-5/12 mb-6 border-r-2 border-gray-200"},r.a.createElement(oe,{name:"contact"}),r.a.createElement("img",{src:"/img/checklists.svg",alt:"",className:"w-1/4 m-auto pt-16"})),r.a.createElement("div",{className:"md:w-7/12 w-full mb-6 px-8 relative"},r.a.createElement("h1",{className:"block text-gray-700 text-lg font-bold mb-2"},"Contact Information"),c.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},c.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",D?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-bold"},"Sent successfully"),r.a.createElement("p",{className:"text-sm"},"Contact information created successfully"))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"w-full max-w-lg",onSubmit:M(ee)},r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6"},O&&O.map((function(e,t){var a;return r.a.createElement(xe,{key:t,label:e.label,name:e.name,required:e.required,errors:H,register:z,type:e.type,options:e.options,value:x[e.name],Controller:!0,control:!0,readonly:e.readonly,readonlyValue:E,toggleInput:Q,filteredBy:null!==(a=e.filtered_by)&&void 0!==a?a:null,getChildFieldOptions:K,filteredOptions:Y.find((function(t){return t.name==e.name}))})}))),r.a.createElement("div",{className:"flex items-center justify-between mb-16"},r.a.createElement("button",{className:"bg-blue-700 hover:bg-blue-800 text-white text-lg md:text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center shadow-lg",type:"submit"},r.a.createElement("span",null," Save "),b?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"13",height:"13",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M2 0H14L18 4V16C18 17.1 17.1 18 16 18H2C0.89 18 0 17.1 0 16V2C0 0.9 0.89 0 2 0ZM16 16V4.83L13.17 2H2V16H16ZM9 9C7.34 9 6 10.34 6 12C6 13.66 7.34 15 9 15C10.66 15 12 13.66 12 12C12 10.34 10.66 9 9 9ZM12 3H3V7H12V3Z",fill:"white"}))))))),r.a.createElement("div",{className:"flex justify-end w-full pr-0 md:pr-4 mt-10"},r.a.createElement("div",{className:"inline-flex justify-end"},r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/next_of_kin"):e.history.push("/profile/next_of_kin")},className:"bg-gray-500 hover:bg-gray-600 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("svg",{className:"mr-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_left_24px",d:"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z",fill:"white"}))),r.a.createElement("span",null," Previous ")),r.a.createElement("button",{onClick:function(){return"onboarding"===t?e.history.push("/onboarding/education"):e.history.push("/profile/education")},className:"bg-green-600 hover:bg-green-700 text-white text-md md:text-xl font-light py-2 px-6 md:py-3 md:px-8 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center",type:"button"},r.a.createElement("span",null," Next "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"}))))))))};var Le=Object(d.i)((function(e){se((function(e){return e.profileSection}));var t=g((function(e){return e.accessToken})),a=Object(d.f)(),n=Object(d.g)(),l=Object(y.b)("sections",(function(){return q(t)})),c=(l.isLoading,l.error,l.data);(c||[]).every((function(e){return!0===e.completed}))&&n.pathname.includes("/onboarding")&&a.replace("/profile");var s="profile";return a.location.pathname.includes("/onboarding")&&(s="onboarding"),"/onboarding/"!==n.pathname&&"/onboarding"!==n.pathname||a.replace("/onboarding/bvn"),"/profile/"!==n.pathname&&"/profile"!==n.pathname||a.replace("/profile/bvn"),r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-3 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"Profile Update")),r.a.createElement("br",null),r.a.createElement("img",{src:"/img/bvn-mobile-card-bg.svg",alt:"",className:"md:hidden absolute mobile-card-bg"}),r.a.createElement("div",{className:"relative w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0 mt-12 md:mt-0"},r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"onboarding"===s?"/onboarding/next_of_kin":"/profile/next_of_kin",component:je,pageType:s}),r.a.createElement(d.a,{path:"onboarding"===s?"/onboarding/contact":"/profile/contact",component:Oe,pageType:s}),r.a.createElement(d.a,{path:"onboarding"===s?"/onboarding/employment":"/profile/employment",component:ye,pageType:s}),r.a.createElement(d.a,{path:"onboarding"===s?"/onboarding/account":"/profile/account",component:we,pageType:s}),r.a.createElement(d.a,{path:"onboarding"===s?"/onboarding/personal":"/profile/personal",component:he,pageType:s}),r.a.createElement(d.a,{path:"onboarding"===s?"/onboarding/education":"/profile/education",component:ve,pageType:s}),r.a.createElement(d.a,{path:"onboarding"===s?"/onboarding/documents":"/profile/documents",component:ke,pageType:s}),r.a.createElement(d.a,{path:"onboarding"===s?"/onboarding/bvn":"/profile/bvn",component:ie,pageType:s})),r.a.createElement("br",null)),r.a.createElement("div",{className:"w-11/12 mt-8 hidden md:block"},r.a.createElement("hr",{className:"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto"})))),r.a.createElement("br",null)))})),Ce=function(e){var t,a,l=Object(d.f)(),c=Object(d.g)(),s=g((function(e){return e.accessToken})),o=g((function(e){return e.currentUser})),m=Object(n.useState)(),i=Object(u.a)(m,2),p=i[0],b=i[1],f=Object(n.useState)(),x=Object(u.a)(f,2),h=x[0],v=x[1],w=Object(n.useState)([]),E=Object(u.a)(w,2),N=E[0],k=E[1],j=Object(n.useState)(),O=Object(u.a)(j,2),L=O[0],C=O[1],_=Object(y.b)("sections",(function(){return q(s)})),S=_.isLoading,V=(_.error,_.data);_.refetch;return Object(n.useEffect)((function(){V&&(k(V.filter((function(e){return e.editable_when_complete}))),C(V.every((function(e){return!0===e.completed}))))}),[V,k]),S||!o.email?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,p||"/profile/"!==c.pathname&&"/profile"!==c.pathname?r.a.createElement(r.a.Fragment,null,r.a.createElement(Le,null)):r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"My Profile")),r.a.createElement("br",null),r.a.createElement("div",{className:"bg-white my-12 pb-6 justify-center items-center overflow-hidden w-11/12 rounded-lg shadow-sm m-auto md:m-0 mt-12 md:mt-0 fade-in"},r.a.createElement("div",{className:"relative h-40"},r.a.createElement("img",{className:"absolute h-full w-full object-cover",src:"/img/profile-bg.jpg",alt:""})),r.a.createElement("div",{className:"relative w-9/12 md:w-6/12 bg-gray-700 shadow mx-auto w-auto -my-12 h-20 rounded-full"},r.a.createElement("span",{className:"flex justify-center text-center text-lg md:text-3xl font-medium font text-gray-300 ease-in-out md:pt-4 pt-6 px-1"},(null===o||void 0===o?void 0:o.firstName)?null===o||void 0===o?void 0:o.firstName.charAt(0).toUpperCase():null,(null===o||void 0===o?void 0:o.firstName)?null===o||void 0===o||null===(t=o.firstName.slice(1))||void 0===t?void 0:t.toLowerCase():null," ",(null===o||void 0===o?void 0:o.lastName)?null===o||void 0===o?void 0:o.lastName.charAt(0).toUpperCase():null,(null===o||void 0===o?void 0:o.lastName)?null===o||void 0===o||null===(a=o.lastName.slice(1))||void 0===a?void 0:a.toLowerCase():null)),r.a.createElement("div",{className:"mt-16"},r.a.createElement("h1",{className:"text-lg text-center text-gray-700 font-medium"},null===o||void 0===o?void 0:o.email),r.a.createElement("p",{className:"text-sm text-gray-600 text-center"},null===o||void 0===o?void 0:o.phone_no)),r.a.createElement("div",{className:"mt-6 pt-3 mx-6 border-t"},r.a.createElement("h1",{className:"flex text-left text-gray-600 text-xl font-medium py-2"},"Personal Information",L?null:r.a.createElement("div",null,r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-600 ml-2 mt-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 22 22"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"})))),L?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-sm text-gray-600 text-left my-1"},"Your profile details, documents and other information."),r.a.createElement("div",{className:"flex flex-wrap"},N.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-xs mr-2 my-1 uppercase tracking-wider border px-2 py-2 text-indigo-600 border-indigo-600 hover:bg-indigo-600 hover:text-indigo-100  transition-colors duration-150 ease-in-out cursor-pointer",onClick:function(){return function(e){b(!0),l.push("/profile/"+e)}(e.name)}},e.label))})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"flex text-sm text-red-600 text-left my-2 font-normal"},"You need to complete your KYC!"),r.a.createElement("div",{className:"flex flex-wrap"},r.a.createElement("div",{className:"text-xs mr-2 my-1 uppercase tracking-wider border px-4 py-3 text-blue-100 border-blue-600 bg-blue-600 hover:bg-blue-700  transition-colors duration-150 ease-in-out cursor-pointer",onClick:function(){return l.push("/onboarding/")}},"Complete my KYC")))),r.a.createElement("div",{className:"mt-6 pt-3 mx-6 border-t"},r.a.createElement("h1",{className:"text-left text-gray-600 text-xl font-medium py-2"},"Account Settings"),r.a.createElement("p",{className:"text-sm text-gray-600 text-left my-1"},"Update your password and other account settings."),r.a.createElement("div",{className:"flex flex-wrap"},r.a.createElement("div",{className:"flex text-sm mr-2 my-2 uppercase tracking-wider border px-4 py-3 text-orange-700 border-orange-700 hover:bg-orange-700 hover:text-orange-100  transition-colors duration-150 ease-in-out cursor-pointer",onClick:function(){window.location.assign("https://auth-demo.agilelender.com/auth/realms/Agile-Credit/account")},onMouseEnter:function(){return v(!0)},onMouseLeave:function(){return v(!1)}},h?r.a.createElement("svg",{className:"mr-2",width:"20",height:"20",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"settings_24px"},r.a.createElement("path",{id:"icon/action/settings_24px","fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5022 12C19.5022 12.34 19.4722 12.66 19.4322 12.98L21.5422 14.63C21.7322 14.78 21.7822 15.05 21.6622 15.27L19.6622 18.73C19.5722 18.89 19.4022 18.98 19.2322 18.98C19.1722 18.98 19.1122 18.97 19.0522 18.95L16.5622 17.95C16.0422 18.34 15.4822 18.68 14.8722 18.93L14.4922 21.58C14.4622 21.82 14.2522 22 14.0022 22H10.0022C9.75216 22 9.54216 21.82 9.51216 21.58L9.13216 18.93C8.52216 18.68 7.96216 18.35 7.44216 17.95L4.95216 18.95C4.90216 18.97 4.84216 18.98 4.78216 18.98C4.60216 18.98 4.43216 18.89 4.34216 18.73L2.34216 15.27C2.22216 15.05 2.27216 14.78 2.46216 14.63L4.57216 12.98C4.53216 12.66 4.50216 12.33 4.50216 12C4.50216 11.67 4.53216 11.34 4.57216 11.02L2.46216 9.37C2.27216 9.22 2.21216 8.95 2.34216 8.73L4.34216 5.27C4.43216 5.11 4.60216 5.02 4.77216 5.02C4.83216 5.02 4.89216 5.03 4.95216 5.05L7.44216 6.05C7.96216 5.66 8.52216 5.32 9.13216 5.07L9.51216 2.42C9.54216 2.18 9.75216 2 10.0022 2H14.0022C14.2522 2 14.4622 2.18 14.4922 2.42L14.8722 5.07C15.4822 5.32 16.0422 5.65 16.5622 6.05L19.0522 5.05C19.1022 5.03 19.1622 5.02 19.2222 5.02C19.4022 5.02 19.5722 5.11 19.6622 5.27L21.6622 8.73C21.7822 8.95 21.7322 9.22 21.5422 9.37L19.4322 11.02C19.4722 11.34 19.5022 11.66 19.5022 12ZM17.5022 12C17.5022 11.79 17.4922 11.58 17.4522 11.27L17.3122 10.14L18.2022 9.44L19.2722 8.59L18.5722 7.38L17.3022 7.89L16.2422 8.32L15.3322 7.62C14.9322 7.32 14.5322 7.09 14.1022 6.91L13.0422 6.48L12.8822 5.35L12.6922 4H11.3022L11.1022 5.35L10.9422 6.48L9.88216 6.91C9.47216 7.08 9.06216 7.32 8.63216 7.64L7.73216 8.32L6.69216 7.9L5.42216 7.39L4.72216 8.6L5.80216 9.44L6.69216 10.14L6.55216 11.27C6.52216 11.57 6.50216 11.8 6.50216 12C6.50216 12.2 6.52216 12.43 6.55216 12.74L6.69216 13.87L5.80216 14.57L4.72216 15.41L5.42216 16.62L6.69216 16.11L7.75216 15.68L8.66216 16.38C9.06216 16.68 9.46216 16.91 9.89216 17.09L10.9522 17.52L11.1122 18.65L11.3022 20H12.7022L12.9022 18.65L13.0622 17.52L14.1222 17.09C14.5322 16.92 14.9422 16.68 15.3722 16.36L16.2722 15.68L17.3122 16.1L18.5822 16.61L19.2822 15.4L18.2022 14.56L17.3122 13.86L17.4522 12.73C17.4822 12.43 17.5022 12.21 17.5022 12ZM12.0022 8C9.79216 8 8.00216 9.79 8.00216 12C8.00216 14.21 9.79216 16 12.0022 16C14.2122 16 16.0022 14.21 16.0022 12C16.0022 9.79 14.2122 8 12.0022 8ZM10.0022 12C10.0022 13.1 10.9022 14 12.0022 14C13.1022 14 14.0022 13.1 14.0022 12C14.0022 10.9 13.1022 10 12.0022 10C10.9022 10 10.0022 10.9 10.0022 12Z",fill:"#FFFFFF"}))):r.a.createElement("svg",{className:"mr-2",width:"20",height:"20",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"settings_24px"},r.a.createElement("path",{id:"icon/action/settings_24px","fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.5022 12C19.5022 12.34 19.4722 12.66 19.4322 12.98L21.5422 14.63C21.7322 14.78 21.7822 15.05 21.6622 15.27L19.6622 18.73C19.5722 18.89 19.4022 18.98 19.2322 18.98C19.1722 18.98 19.1122 18.97 19.0522 18.95L16.5622 17.95C16.0422 18.34 15.4822 18.68 14.8722 18.93L14.4922 21.58C14.4622 21.82 14.2522 22 14.0022 22H10.0022C9.75216 22 9.54216 21.82 9.51216 21.58L9.13216 18.93C8.52216 18.68 7.96216 18.35 7.44216 17.95L4.95216 18.95C4.90216 18.97 4.84216 18.98 4.78216 18.98C4.60216 18.98 4.43216 18.89 4.34216 18.73L2.34216 15.27C2.22216 15.05 2.27216 14.78 2.46216 14.63L4.57216 12.98C4.53216 12.66 4.50216 12.33 4.50216 12C4.50216 11.67 4.53216 11.34 4.57216 11.02L2.46216 9.37C2.27216 9.22 2.21216 8.95 2.34216 8.73L4.34216 5.27C4.43216 5.11 4.60216 5.02 4.77216 5.02C4.83216 5.02 4.89216 5.03 4.95216 5.05L7.44216 6.05C7.96216 5.66 8.52216 5.32 9.13216 5.07L9.51216 2.42C9.54216 2.18 9.75216 2 10.0022 2H14.0022C14.2522 2 14.4622 2.18 14.4922 2.42L14.8722 5.07C15.4822 5.32 16.0422 5.65 16.5622 6.05L19.0522 5.05C19.1022 5.03 19.1622 5.02 19.2222 5.02C19.4022 5.02 19.5722 5.11 19.6622 5.27L21.6622 8.73C21.7822 8.95 21.7322 9.22 21.5422 9.37L19.4322 11.02C19.4722 11.34 19.5022 11.66 19.5022 12ZM17.5022 12C17.5022 11.79 17.4922 11.58 17.4522 11.27L17.3122 10.14L18.2022 9.44L19.2722 8.59L18.5722 7.38L17.3022 7.89L16.2422 8.32L15.3322 7.62C14.9322 7.32 14.5322 7.09 14.1022 6.91L13.0422 6.48L12.8822 5.35L12.6922 4H11.3022L11.1022 5.35L10.9422 6.48L9.88216 6.91C9.47216 7.08 9.06216 7.32 8.63216 7.64L7.73216 8.32L6.69216 7.9L5.42216 7.39L4.72216 8.6L5.80216 9.44L6.69216 10.14L6.55216 11.27C6.52216 11.57 6.50216 11.8 6.50216 12C6.50216 12.2 6.52216 12.43 6.55216 12.74L6.69216 13.87L5.80216 14.57L4.72216 15.41L5.42216 16.62L6.69216 16.11L7.75216 15.68L8.66216 16.38C9.06216 16.68 9.46216 16.91 9.89216 17.09L10.9522 17.52L11.1122 18.65L11.3022 20H12.7022L12.9022 18.65L13.0622 17.52L14.1222 17.09C14.5322 16.92 14.9422 16.68 15.3722 16.36L16.2722 15.68L17.3122 16.1L18.5822 16.61L19.2822 15.4L18.2022 14.56L17.3122 13.86L17.4522 12.73C17.4822 12.43 17.5022 12.21 17.5022 12ZM12.0022 8C9.79216 8 8.00216 9.79 8.00216 12C8.00216 14.21 9.79216 16 12.0022 16C14.2122 16 16.0022 14.21 16.0022 12C16.0022 9.79 14.2122 8 12.0022 8ZM10.0022 12C10.0022 13.1 10.9022 14 12.0022 14C13.1022 14 14.0022 13.1 14.0022 12C14.0022 10.9 13.1022 10 12.0022 10C10.9022 10 10.0022 10.9 10.0022 12Z",fill:"#C05621"}))),"OPEN ACCOUNT SETTINGS")))),r.a.createElement("div",{className:"w-11/12 mt-8 hidden md:block"},r.a.createElement("hr",{className:"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto"})))),r.a.createElement("br",null)))},_e=a(58);function Se(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).post("/loan/loan-requests",a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ze(){return(ze=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/loan/loan-requests");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Me(e){return He.apply(this,arguments)}function He(){return(He=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/loan/loans");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/loan/loans/"+a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Be=Object(d.i)((function(e){var t=g((function(e){return e.accessToken})),a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),p=d[0],b=d[1],f=Object(n.useState)([]),x=Object(u.a)(f,2),h=x[0],v=x[1],w=function(){var t=Object(i.a)(m.a.mark((function t(a){var n,l,c,o,i,u;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.prev=1,t.next=4,Me(a);case 4:n=t.sent,l=n.data,c=[],b(!1),l&&l.map((function(t){c.push({col1:t.loan_id,col2:t.description,col3:r.a.createElement("span",{className:"text-green-600 font-bold"},"\u20a6",Number(t.loan_amount).toLocaleString(void 0,{maximumFractionDigits:2})),col4:new Date(t.repayment_starting_date).toDateString(),col6:r.a.createElement("button",{onClick:function(){return e.history.push("/loan-details/"+t.uuid)},className:"bg-blue-800 py-1 px-2 rounded"},r.a.createElement("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"visibility_24px"},r.a.createElement("path",{id:"icon/action/visibility_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M0.625 7.5C1.70625 4.75625 4.375 2.8125 7.5 2.8125C10.625 2.8125 13.2937 4.75625 14.375 7.5C13.2937 10.2438 10.625 12.1875 7.5 12.1875C4.375 12.1875 1.70625 10.2438 0.625 7.5ZM13.0125 7.5C11.9813 5.39375 9.86878 4.0625 7.50003 4.0625C5.13128 4.0625 3.01878 5.39375 1.98753 7.5C3.01878 9.60625 5.13128 10.9375 7.50003 10.9375C9.86878 10.9375 11.9813 9.60625 13.0125 7.5ZM7.5 5.9375C8.3625 5.9375 9.0625 6.6375 9.0625 7.5C9.0625 8.3625 8.3625 9.0625 7.5 9.0625C6.6375 9.0625 5.9375 8.3625 5.9375 7.5C5.9375 6.6375 6.6375 5.9375 7.5 5.9375ZM4.6875 7.5C4.6875 5.95 5.95 4.6875 7.5 4.6875C9.05 4.6875 10.3125 5.95 10.3125 7.5C10.3125 9.05 9.05 10.3125 7.5 10.3125C5.95 10.3125 4.6875 9.05 4.6875 7.5Z",fill:"white"}))))})})),s(c),t.next=27;break;case 12:if(t.prev=12,t.t0=t.catch(1),b(!1),!t.t0||500!==t.t0.response.status){t.next=20;break}return(o=[]).push(t.t0.response.data.message),v(o),t.abrupt("return");case 20:if(t.t0.response){t.next=25;break}return(i=[]).push("Network Error, Check Your Internet Connection"),v(i),t.abrupt("return");case 25:(u=t.t0.response.data).errors&&(m=u.errors,v(Object.values(m).flat()));case 27:case"end":return t.stop()}var m}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){w(t)}),[]);var E=r.a.useMemo((function(){return[{Header:"Loan ID",accessor:"col1"},{Header:"Type",accessor:"col2"},{Header:"Amount",accessor:"col3"},{Header:"Date",accessor:"col4"},{Header:"Action",accessor:"col6"}]}),[]),y=Object(_e.useTable)({columns:E,data:c}),N=y.getTableProps,k=y.getTableBodyProps,j=y.headerGroups,O=y.rows,L=y.prepareRow;return p?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"My Loans")),r.a.createElement("br",null),h.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},h.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",r.a.createElement("div",{className:"w-11/12 flex justify-end items-center h-16 my-2 md:m-0 m-auto"},r.a.createElement("button",{className:"flex bg-blue-200 hover:bg-blue-300 items-center py-2 px-4 rounded-lg transition-colors duration-150 ease-in-out cursor-pointer",onClick:function(){return e.history.push("/applications")}},r.a.createElement("div",null,r.a.createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"add_24px"},r.a.createElement("path",{id:"icon/content/add_24px",d:"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z",fill:"#0A54A2"})))),r.a.createElement("div",{className:"ml-2 text-blue-700 text-md"},"My Applications"))),r.a.createElement("div",{className:"w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none  mb-20 m-auto md:m-0"},r.a.createElement("div",{className:"w-full mb-6 px-8 py-6 relative"},c.length>0?r.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 md:py-4 overflow-auto  fade-in mt-5 mb-10"},r.a.createElement("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden"},r.a.createElement("table",Object.assign({},N(),{className:"min-w-full w-full leading-normal"}),r.a.createElement("thead",{className:"flex w-full"},j.map((function(e){return r.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"flex w-full"}),e.headers.map((function(e){return r.a.createElement("th",Object.assign({},e.getHeaderProps(),{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-sm font-semibold text-gray-600 uppercase tracking-wider"}),e.render("Header"))})))}))),r.a.createElement("tbody",Object.assign({},k(),{className:"flex flex-col items-center overflow-y-scroll w-full schedule-table"}),O.map((function(e){return L(e),r.a.createElement("tr",Object.assign({},e.getRowProps(),{className:"flex w-full"}),e.cells.map((function(e){return r.a.createElement("td",Object.assign({},e.getCellProps(),{className:"p-4 w-1/4 px-5 py-5 text-center border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700"}),e.render("Cell"))})))})))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"/img/check-files.svg",alt:"",className:"w-3/4 md:w-1/3 m-auto opacity-50"})),r.a.createElement("div",{className:"w-3/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center my-6"},"You have not requested for any loan so far..."),r.a.createElement("div",{className:"w-full mb-8 lg:mb-16 m-auto text-center"},r.a.createElement("button",{onClick:function(){return e.history.push("/new-loan-request")},className:"inline-flex m-auto shadow-xl text-xl text-white px-8 lg:px-10 py-2 lg:py-3 items-center bg-blue-700 rounded-md hover:bg-blue-600 transition-colors duration-150 ease-in-out"},r.a.createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"add_24px"},r.a.createElement("path",{id:"icon/content/add_24px",d:"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z",fill:"white"}))),r.a.createElement("span",{className:"ml-2 text-lg font-normal"},"Take a loan"))))))),r.a.createElement("div",{className:"w-11/12 mt-8 hidden md:block"},r.a.createElement("hr",{className:"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto"})))),r.a.createElement("br",null)))}));function Te(e){return De.apply(this,arguments)}function De(){return(De=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/common/products");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=a(86),Ie=a.n(Pe);a(327);function Ze(e,t){return qe.apply(this,arguments)}function qe(){return(qe=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).post("/payment/initializepayment",a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e,t){return Re.apply(this,arguments)}function Re(){return(Re=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/payment/getcards?email=".concat(null===a||void 0===a?void 0:a.email));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e,t){return We.apply(this,arguments)}function We(){return(We=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/payment/customercardcheck?email=".concat(null===a||void 0===a?void 0:a.email));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/payment/makeCardDefault/".concat(null===a||void 0===a?void 0:a.id));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/payment/removecard/".concat(null===a||void 0===a?void 0:a.id));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){return $e.apply(this,arguments)}function $e(){return($e=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t.token).post("/payment/completepayment",{reference:t.reference});case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return(tt=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t.token).post("/payment/addcard",{email:t.email,transaction_ref:t.transaction_ref});case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function at(){return(at=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).get("/payment/getaddcardfee");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nt,rt=Object(d.i)((function(e){var t,a,l=se(Object(n.useCallback)((function(e){return e.data}),[])),c=Object(n.useState)(),o=Object(u.a)(c,2),d=o[0],p=o[1],b=Object(n.useState)(0),f=Object(u.a)(b,2),x=f[0],h=f[1],v=Object(n.useState)(0),w=Object(u.a)(v,2),E=w[0],N=w[1],k=g((function(e){return e.accessToken})),j=Object(n.useState)(!1),O=Object(u.a)(j,2),L=O[0],C=O[1],_=Object(n.useState)(),S=Object(u.a)(_,2),V=S[0],z=S[1],M=Object(y.b)("sections",(function(){return q(k)})),H=M.isLoading,F=(M.error,M.data),A=Object(n.useState)([]),B=Object(u.a)(A,2),T=B[0],D=B[1],P=Object(n.useCallback)(Object(i.a)(m.a.mark((function e(){var t,a,n,r,c,s,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:l.e_mail},C(!0),e.prev=2,e.next=5,Ue(k,t);case 5:if(a=e.sent,n=a.message,r=a.data,!1!==a.status){e.next=15;break}return(c=[]).push(n),D(c),C(!1),e.abrupt("return");case 15:z(r),D([]),C(!1),e.next=35;break;case 20:if(e.prev=20,e.t0=e.catch(2),C(!1),!e.t0||e.t0.response){e.next=28;break}return(s=[]).push("Network Error, Check Your Internet Connection"),D(s),e.abrupt("return");case 28:if(!e.t0||500!==e.t0.response.status){e.next=33;break}return(o=[]).push(e.t0.response.data.message),D(o),e.abrupt("return");case 33:(i=e.t0.response.data).errors&&(m=i.errors,D(Object.values(m).flat()));case 35:case"end":return e.stop()}var m}),e,null,[[2,20]])}))),[k,l.e_mail]);Object(n.useEffect)((function(){l&&l.e_mail&&P()}),[l]);var I=F||[],Z=I.every((function(e){return!0===e.completed})),Y=Object(y.b)("products",(function(){return Te(k)})),R=Y.isLoading,U=(Y.error,Y.data);return R||!U||H||!l.e_mail||L||void 0===V?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:Z?"md:pl-12 loan-request-bg md:pb-32":"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-3 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"New Loan")),r.a.createElement("br",null),T.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},T.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",Z?!1===(null===V||void 0===V||null===(t=V.data)||void 0===t?void 0:t.cards)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"relative w-11/12 bg-white rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0 mt-12 md:mt-0"},r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"img/checklists.svg",alt:"",className:"w-2/4 md:w-1/4 m-auto"})),r.a.createElement("div",{className:"w-3/4 md:w-2/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center"},"One more thing! You need to have at least one debit card on your profile before you can access a loan.")),r.a.createElement("div",{className:"w-full m-auto mt-10"},r.a.createElement("button",{onClick:function(){e.history.push("/cards/add")},className:"flex w-2/4 md:w-1/4 shadow-xl text-xl font-light text-white justify-center py-4 md:py-3 items-center bg-green-600 hover:bg-green-700 rounded-md m-auto transition-colors duration-150 ease-in-out"},r.a.createElement("span",{className:"text-sm xl:text-lg lg:text-sm pr-2"},"Add a card now"),r.a.createElement("img",{src:"img/chevron-right.svg",className:"w-5 pt-1",alt:""}))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"/img/new-loan-mobile-card-bg.svg",alt:"",className:"md:hidden absolute mobile-card-bg"}),r.a.createElement("div",{className:"relative w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-b-8 mb-20 m-auto md:m-0 mt-12 md:mt-0 loan-calc-alt"},r.a.createElement("form",{className:"w-full m-auto max-w-lg"},r.a.createElement("div",{className:"w-11/12 md:w-full px-3 m-auto"},r.a.createElement("h3",{className:"md:hidden text-lg text-gray-700 text-center font-bold m-auto mb-10"},"How much money do you want?"),r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-6"},r.a.createElement("div",{className:"w-full md:w-ful px-3"},r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"},"Loan Type"),r.a.createElement("div",{className:"relative"},r.a.createElement("select",{className:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-state",onChange:function(e){return function(e){var t=null===U||void 0===U?void 0:U.data;if(t){var a=t.find((function(t){return t.no===e}));p(a),h(a.min_loan_amount),N(a.min_number_of_repayment)}}(e.target.value)}},r.a.createElement("option",{value:""},"- Select -"),(null===U||void 0===U||null===(a=U.data)||void 0===a?void 0:a.length)>0?U.data.map((function(e,t){return r.a.createElement("option",{key:e.key,value:e.no},e.description)})):null),r.a.createElement("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},r.a.createElement("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),d?r.a.createElement("p",{className:"text-gray-700 text-xs italic"},r.a.createElement("a",{href:d.product_url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{className:"text-blue-500"}," ","Learn more"))," ","about the selected loan type"):"")),r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-12"},r.a.createElement("div",{className:"w-full px-3 pt-4"},r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-10"},"Amount"),r.a.createElement("div",{className:"relative"},r.a.createElement(Ie.a,{formatLabel:function(e){return"\u20a6"+Number(e).toLocaleString()},maxValue:d?Number(d.max_loan_amount):0,minValue:d?Number(d.min_loan_amount):0,step:1e3,value:x,onChange:function(e){h(Number(e))},disabled:!d,name:"loan_amount"})))),r.a.createElement("div",{className:"flex flex-wrap -mx-3 mb-12"},r.a.createElement("div",{className:"w-full px-3 pt-4"},r.a.createElement("label",{className:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-10"},"Duration"),r.a.createElement("div",{className:"relative"},r.a.createElement(Ie.a,{formatLabel:function(e){return e+" months"},maxValue:d?Number(d.max_number_of_repayment):0,minValue:d?Number(d.min_number_of_repayment):0,step:1,value:E,onChange:function(e){N(Number(e))},disabled:!d,name:"no_of_repayments"})))),r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("button",{onClick:function(){return e.history.replace({pathname:"/loan-schedule",loanData:Object(s.a)({loan_amount:x,no_of_repayments:E},d)})},className:d?"bg-green-600 hover:bg-green-700 text-white text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center transition-colors duration-150 ease-in-out":"bg-gray-300 text-white text-xl font-light py-3 px-10 rounded-lg focus:outline-none focus:shadow-outline inline-flex items-center cursor-not-allowed",disabled:!d,type:"button"},r.a.createElement("span",null," Apply! "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"}))))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"relative w-11/12 bg-white rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0 mt-12 md:mt-0"},r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"img/checklists.svg",alt:"",className:"w-2/4 md:w-1/4 m-auto"})),r.a.createElement("div",{className:"w-3/4 md:w-2/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center"},"Oops! Looks like you need to complete your profile before we can disburse your money.")),r.a.createElement("div",{className:"w-full m-auto mt-10"},r.a.createElement("button",{onClick:function(){e.history.push("/onboarding/"+function(){var e=0,t="";return I&&I.map((function(a){!1===a.completed&&(0===e||a.sequence<e)&&(e=a.sequence,t=a.name)})),t}())},className:"flex w-2/4 md:w-1/4 shadow-xl text-xl font-light text-white justify-center py-4 md:py-3 items-center bg-green-600 hover:bg-green-700 rounded-md m-auto transition-colors duration-150 ease-in-out"},r.a.createElement("span",{className:"text-sm xl:text-lg lg:text-sm pr-2"},"Okay, let's go!"),r.a.createElement("img",{src:"img/chevron-right.svg",className:"w-5 pt-1",alt:""}))))))),r.a.createElement("br",null)))}));function lt(e){var t,a,l=parseFloat(e.amount),c=parseFloat(e.rate)/100,s=parseFloat(e.tenor),o=s/12,m=Object(n.useState)([]),i=Object(u.a)(m,2),d=i[0],p=i[1],b=Object(n.useCallback)((function(){for(var e=l/s,t=l*(c/12),a=e+t,n=1,r=[];n<=s;){var o;o={i:n,principal:e,interest:t,repayment:a},r.push(o),n++}p(r)}),[l,c,s]);return Object(n.useEffect)((function(){b()}),[b]),t=l+(a=l*c*o),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h3",{className:"text-gray-700 text-md md:text-xl"}," Total Interest: ",r.a.createElement("span",{className:"font-bold"},"\u20a6",Number(a).toLocaleString(void 0,{maximumFractionDigits:2})," ")),r.a.createElement("h3",{className:"text-gray-700 text-md md:text-xl"}," Total Repayment: ",r.a.createElement("span",{className:"font-bold text-green-700"},"\u20a6",Number(t).toLocaleString(void 0,{maximumFractionDigits:2})," "))),r.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-auto  fade-in mt-5 mb-10"},r.a.createElement("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden"},r.a.createElement("table",{className:"min-w-full w-full leading-normal"},r.a.createElement("thead",{className:"flex w-full"},r.a.createElement("tr",{className:"flex w-full"},r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"S/N"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Principal (\u20a6)"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Interest (\u20a6)"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Repayment (\u20a6)"))),r.a.createElement("tbody",{className:"flex flex-col items-center overflow-y-scroll w-full schedule-table"},d.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"flex w-full"},r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700"},e.i,"."),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center"},Number(e.principal).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center"},Number(e.interest).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-green-600 font-bold text-center"},Number(e.repayment).toLocaleString(void 0,{maximumFractionDigits:2}))))})))))))}function ct(e){var t=parseFloat(e.amount),a=parseFloat(e.rate),l=parseFloat(e.tenor),c=t,s=Object(n.useState)([]),o=Object(u.a)(s,2),m=o[0],i=o[1],d=a/100/12,p=Object(n.useCallback)((function(){function e(e,t,a,n){var r,l,c,s;for(e*=Math.pow(10,a),e=Math.round(e),c=(l=new String(e)).length;c<a;)l="0"+l,c+=1;if(a>0&&(l=l.substring(0,c-a)+"."+l.substring(c-a,c)),l.length<t&&t>0)for(s=t-l.length,r=0;r<s;r+=1)l=n+l;return l}for(var a=t/l,n=0,r=1,s=[];r<=l;){var o,m=d*t,u=t-a;o={i:r,repayment:e(a+m,0,2," "),interest:e(m,0,2," "),principal:e(a,0,2," "),balance:e(u,0,2," ")},s.push(o),t=u,n+=m,r++}var p=c+n;s.push(n,p),i(s)}),[d,t,l]);Object(n.useEffect)((function(){p()}),[p]);var b=m[m.length-2],g=m[m.length-1],f=m.slice(0,m.length-2);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h3",{className:"text-gray-700 text-md md:text-xl"}," Total Interest: ",r.a.createElement("span",{className:"font-bold"},"\u20a6",Number(b).toLocaleString(void 0,{maximumFractionDigits:2})," ")),r.a.createElement("h3",{className:"text-gray-700 text-md md:text-xl"}," Total Repayment: ",r.a.createElement("span",{className:"font-bold text-green-700"},"\u20a6",Number(g).toLocaleString(void 0,{maximumFractionDigits:2})," "))),r.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-auto  fade-in mt-5 mb-10"},r.a.createElement("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden"},r.a.createElement("table",{className:"min-w-full w-full leading-normal"},r.a.createElement("thead",{className:"flex w-full"},r.a.createElement("tr",{className:"flex w-full"},r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"S/N"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Principal (\u20a6)"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Interest (\u20a6)"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Repayment (\u20a6)"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Balance (\u20a6)"))),r.a.createElement("tbody",{className:"flex flex-col items-center overflow-y-scroll w-full schedule-table"},f.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"flex w-full"},r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700"},e.i,"."),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center"},Number(e.principal).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center"},Number(e.interest).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-green-600 font-bold text-center"},Number(e.repayment).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center"},Number(e.balance).toLocaleString(void 0,{maximumFractionDigits:2}))))})))))))}function st(e){var t=parseFloat(e.amount),a=parseFloat(e.rate),l=parseFloat(e.tenor),c=Object(n.useState)([]),s=Object(u.a)(c,2),o=s[0],m=s[1],i=a/100/12,d=t*i/(1-Math.pow(1+i,-l)),p=d*l,b=p-t,g=Object(n.useCallback)((function(){function e(e,t,a,n){var r,l,c,s;for(e*=Math.pow(10,a),e=Math.round(e),c=(l=new String(e)).length;c<a;)l="0"+l,c+=1;if(a>0&&(l=l.substring(0,c-a)+"."+l.substring(c-a,c)),l.length<t&&t>0)for(s=t-l.length,r=0;r<s;r+=1)l=n+l;return l}for(var a=t,n=1,r=[];n<=l;){var c=i*a,s=d-c;a-=s;var o;o={i:n,repayment:e(d,0,2," "),interest:e(c,0,2," "),principal:e(s,0,2," "),balance:e(a,0,2," ")},r.push(o),n++}m(r)}),[i,d,t,l]);return Object(n.useEffect)((function(){g()}),[g]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h3",{className:"text-gray-700 text-md md:text-xl"}," Total Interest: ",r.a.createElement("span",{className:"font-bold"},"\u20a6",Number(b).toLocaleString(void 0,{maximumFractionDigits:2})," ")),r.a.createElement("h3",{className:"text-gray-700 text-md md:text-xl"}," Total Repayment: ",r.a.createElement("span",{className:"font-bold text-green-700"},"\u20a6",Number(p).toLocaleString(void 0,{maximumFractionDigits:2})," "))),r.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-auto  fade-in mt-5 mb-10"},r.a.createElement("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden"},r.a.createElement("table",{className:"min-w-full w-full leading-normal"},r.a.createElement("thead",{className:"flex w-full"},r.a.createElement("tr",{className:"flex w-full"},r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"S/N"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Principal (\u20a6)"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Interest (\u20a6)"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Repayment (\u20a6)"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Balance (\u20a6)"))),r.a.createElement("tbody",{className:"flex flex-col items-center overflow-y-scroll w-full schedule-table"},o.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",{className:"flex w-full"},r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700"},e.i,"."),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center"},Number(e.principal).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center"},Number(e.interest).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-green-600 font-bold text-center"},Number(e.repayment).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-sm text-gray-700 text-center"},Number(e.balance).toLocaleString(void 0,{maximumFractionDigits:2}))))})))))))}!function(e){e.StraightLine="Straight_Line",e.DecliningBalanceEqualInstallments="Declining_with_Equal_Installments",e.DecliningBalanceEqualPrincipal="Declining_Balance"}(nt||(nt={}));var ot=function(e){return e.type===nt.StraightLine?r.a.createElement(lt,e.data):e.type===nt.DecliningBalanceEqualInstallments?r.a.createElement(st,e.data):e.type===nt.DecliningBalanceEqualPrincipal?r.a.createElement(ct,e.data):r.a.createElement("div",null,"No data supplied")},mt=Object(d.i)((function(e){var t=e.location.loanData;null===t||""===t||void 0===t?e.history.push("/new-loan-request"):t=e.location.loanData;var a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],s=l[1],o=g((function(e){return e.accessToken})),d=Object(n.useState)(!1),p=Object(u.a)(d,2),b=p[0],f=p[1],x=Object(n.useState)([]),h=Object(u.a)(x,2),v=h[0],w=h[1],E=Object(n.useState)(""),y=Object(u.a)(E,2),N=y[0],k=y[1],j=Object(n.useState)(!1),O=Object(u.a)(j,2),L=O[0],C=O[1],_=function(){var a=Object(i.a)(m.a.mark((function a(){var n,r,l,c,s,i,u;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={product_code:t.no,loan_amount:t.loan_amount,number_of_repayments:t.no_of_repayments},f(!0),a.prev=2,a.next=5,Se(o,n);case 5:if(r=a.sent,l=r.message,r.data,!1!==r.success){a.next=15;break}return(c=[]).push(l),w(c),f(!1),a.abrupt("return");case 15:C(!0),setTimeout((function(){C(!1),e.history.replace("/applications")}),5e3),k(l),w([]),f(!1),a.next=37;break;case 22:if(a.prev=22,a.t0=a.catch(2),f(!1),!a.t0||a.t0.response){a.next=30;break}return(s=[]).push("Network Error, Check Your Internet Connection"),w(s),a.abrupt("return");case 30:if(!a.t0||500!==a.t0.response.status){a.next=35;break}return(i=[]).push(a.t0.response.data.message),w(i),a.abrupt("return");case 35:(u=a.t0.response.data).errors&&(m=u.errors,w(Object.values(m).flat()));case 37:case"end":return a.stop()}var m}),a,null,[[2,22]])})));return function(){return a.apply(this,arguments)}}();return b?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Please wait while your application is being submitted..."))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"Loan Schedule")),r.a.createElement("br",null),v.length?r.a.createElement("div",{className:"w-11/12 bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md mb-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},v.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",L?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0"},r.a.createElement("div",{className:"w-9/12 bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md mb-5 m-auto fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"font-bold"},"Application successful"),r.a.createElement("p",{className:"text-sm"},N,". You will be notified of updates concerning your application.")))),r.a.createElement("div",{className:"w-9/12 m-auto px-8 relative"},r.a.createElement("img",{src:"/img/message-posted.svg",alt:"",className:"w-2/4 md:w-1/4 m-auto py-8"})))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0"},r.a.createElement("div",{className:c?"hidden":"hidden md:block w-5/12 mb-6 border-r-2 border-gray-300 px-4"},r.a.createElement("img",{src:"/img/loan-schedule-img.svg",alt:"",className:"w-9/12 m-auto pt-16 pb-4"}),r.a.createElement("h1",{className:"w-10/12 m-auto text-center text-blue-800 text-lg font-bold mb-2"},"Your cash is closer than you think")),r.a.createElement("div",{className:c?"md:w-11/12 w-full mb-6 sm:pl-16 pl-6 py-6 relative":"md:w-7/12 w-full mb-6 sm:pl-16 pl-6 py-6 relative"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"block text-blue-800 text-lg font-bold mb-6"},"Your repayment schedule:"),r.a.createElement("div",{className:"w-full"},r.a.createElement(ot,{type:t.interest_calculation_method,data:{amount:t.loan_amount,rate:t.interest_percent,tenor:t.no_of_repayments}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"block text-blue-800 text-lg font-bold mb-6 fade-in"},"Your loan summary:"),r.a.createElement("table",{className:"table-fixed w-11/12 mb-8 fade-in"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700"},"Type:"),r.a.createElement("td",{className:"sm:w-4/12 w-1/2 px-4 py-1 text-md text-right font-normal text-gray-700"},t?t.description:"")),r.a.createElement("tr",null,r.a.createElement("td",{className:"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700"},"Amount:"),r.a.createElement("td",{className:"sm:w-4/12 w-1/2 px-4 py-1 text-md text-right font-normal text-gray-700"},t?"\u20a6"+Number(t.loan_amount).toLocaleString():"")),r.a.createElement("tr",null,r.a.createElement("td",{className:"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700"},"Duration:"),r.a.createElement("td",{className:"w-4/12 px-4 py-1 text-md text-right font-normal text-gray-700"},t?t.no_of_repayments:""," months")),r.a.createElement("tr",null,r.a.createElement("td",{className:"sm:w-8/12 w-1/2  py-1 text-md font-normal text-gray-700"},"Interest Rate:"),r.a.createElement("td",{className:"w-4/12 px-4 py-1 text-md text-right font-normal text-gray-700"},t?t.interest_percent:"","%"))))),r.a.createElement("div",{className:"flex justify-end w-11/12"},r.a.createElement("div",{className:"md:inline-flex justify-end pr-4"},r.a.createElement("button",{className:"bg-gray-300 hover:bg-gray-400 text-gray-600 text-xs font-normal py-3 px-10 rounded-l focus:outline-none focus:shadow-outline inline-flex items-center md:mb-0 mb-5 transition-colors duration-150 ease-in-out",type:"button",onClick:function(){return s(!c)}},r.a.createElement("span",null," ",c?"View loan summary":"View payment schedule")),r.a.createElement("button",{className:"bg-green-600 hover:bg-green-700 text-white text-sm font-normal py-3 px-10 rounded-r focus:outline-none focus:shadow-outline inline-flex items-center transition-colors duration-150 ease-in-out",type:"button",onClick:_},r.a.createElement("span",null," Process my loan "),r.a.createElement("svg",{className:"-mt-1",width:"14",height:"14",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"})))))))),r.a.createElement("div",{className:"w-11/12 mt-8 hidden md:block"},r.a.createElement("hr",{className:"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto"}))))),r.a.createElement("br",null)))})),it=Object(d.i)((function(e){var t=g((function(e){return e.accessToken})),a=se(Object(n.useCallback)((function(e){return e.data}),[])),l=Object(n.useState)(!1),c=Object(u.a)(l,2),s=c[0],o=c[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),b=p[0],f=p[1],x=Object(n.useState)(!1),h=Object(u.a)(x,2),v=h[0],w=h[1],E=Object(n.useState)({}),y=Object(u.a)(E,2),N=y[0],k=y[1],j=Object(n.useState)(),O=Object(u.a)(j,2),L=O[0],C=O[1],_=Object(n.useState)(null),S=Object(u.a)(_,2),V=S[0],z=S[1],M=Object(n.useState)(null),H=Object(u.a)(M,2),F=H[0],A=H[1],B=Object(n.useState)(null),T=Object(u.a)(B,2),D=T[0],P=T[1],I=Object(n.useState)((function(){return e.location.state&&e.location.state.message?e.location.state.message:null})),Z=Object(u.a)(I,2),q=Z[0],Y=Z[1],R=Object(n.useState)([]),U=Object(u.a)(R,2),W=U[0],X=U[1],G=function(e){X(Object.values(e).flat())},J=Object(n.useCallback)(Object(i.a)(m.a.mark((function e(){var n,r,l,c,s,i,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:a.e_mail},o(!0),e.prev=2,e.next=5,Ye(t,n);case 5:if(r=e.sent,l=r.message,c=r.data,!1!==r.success){e.next=15;break}return(s=[]).push(l),X(s),o(!1),e.abrupt("return");case 15:z(l),setTimeout((function(){z(null)}),3e3),C(c),X([]),o(!1),e.next=37;break;case 22:if(e.prev=22,e.t0=e.catch(2),o(!1),!e.t0||e.t0.response){e.next=30;break}return(i=[]).push("Network Error, Check Your Internet Connection"),X(i),e.abrupt("return");case 30:if(!e.t0||500!==e.t0.response.status){e.next=35;break}return(u=[]).push(e.t0.response.data.message),X(u),e.abrupt("return");case 35:(d=e.t0.response.data).errors&&G(d.errors);case 37:case"end":return e.stop()}}),e,null,[[2,22]])}))),[t,a.e_mail]);Object(n.useEffect)((function(){a&&a.e_mail&&J();var e=setTimeout((function(){Y(null)}),8e3);return function(){return clearTimeout(e)}}),[Y,a]);var K=function(){var e=Object(i.a)(m.a.mark((function e(a){var n,r,l,c,s,i,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:a},o(!0),e.prev=2,e.next=5,Xe(t,n);case 5:if(r=e.sent,l=r.message,c=r.data,!1!==r.success){e.next=15;break}return(s=[]).push(l),X(s),o(!1),e.abrupt("return");case 15:A(l),setTimeout((function(){A(null)}),8e3),J(),C(c),X([]),o(!1),e.next=38;break;case 23:if(e.prev=23,e.t0=e.catch(2),o(!1),!e.t0||e.t0.response){e.next=31;break}return(i=[]).push("Network Error, Check Your Internet Connection"),X(i),e.abrupt("return");case 31:if(!e.t0||500!==e.t0.response.status){e.next=36;break}return(u=[]).push(e.t0.response.data.message),X(u),e.abrupt("return");case 36:(d=e.t0.response.data).errors&&G(d.errors);case 38:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(i.a)(m.a.mark((function e(a){var n,r,l,c,s,i,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:a},f(!0),e.prev=2,e.next=5,Je(t,n);case 5:if(r=e.sent,l=r.message,c=r.data,!1!==r.success){e.next=16;break}return(s=[]).push(l),X(s),f(!1),w(!1),e.abrupt("return");case 16:P(l),setTimeout((function(){P(null)}),8e3),J(),C(c),X([]),o(!1),w(!1),f(!1),e.next=41;break;case 26:if(e.prev=26,e.t0=e.catch(2),o(!1),!e.t0||e.t0.response){e.next=34;break}return(i=[]).push("Network Error, Check Your Internet Connection"),X(i),e.abrupt("return");case 34:if(!e.t0||500!==e.t0.response.status){e.next=39;break}return(u=[]).push(e.t0.response.data.message),X(u),e.abrupt("return");case 39:(d=e.t0.response.data).errors&&G(d.errors);case 41:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e){switch(e){case"mastercard":return"/img/mastercard.png";case"visa":return"/img/visa.png";default:return"/img/credit-card.png"}};return s||!a.e_mail?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative mt-20"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Please wait while we load your cards..."))):b?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative mt-20"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Please wait while we remove your card..."))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"My Cards")),r.a.createElement("br",null),r.a.createElement("div",{className:"w-11/12 bg-white flex rounded py-6 md:py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0"},r.a.createElement("div",{className:"hidden md:block w-5/12 mb-6 border-r-2 border-gray-300 px-4"},r.a.createElement("img",{src:"/img/add-card-bg.svg",alt:"",className:"w-9/12 m-auto pt-32 pb-4 fade-in"})),r.a.createElement("div",{className:"md:w-7/12 w-full mb-6 md:px-12 px-6 md:py-6 py-3 relative"},W.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},W.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",q&&q.length>0?r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in mb-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},q)))):null,F&&(null===F||void 0===F?void 0:F.length)>0?r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},F)))):D&&(null===D||void 0===D?void 0:D.length)>0?r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},D)))):V&&(null===L||void 0===L?void 0:L.length)>0?r.a.createElement("div",{className:"bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},V)))):null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex justify-end items-center h-16 my-2 md:my-6"},r.a.createElement("button",{className:"flex bg-blue-200 hover:bg-blue-300 items-center py-2 px-4 rounded-lg transition-colors duration-150 ease-in-out cursor-pointer",onClick:function(){e.history.push("/cards/add")}},r.a.createElement("div",null,r.a.createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"add_24px"},r.a.createElement("path",{id:"icon/content/add_24px",d:"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z",fill:"#0A54A2"})))),r.a.createElement("div",{className:"ml-2 text-blue-700 text-md"},"Add Card"))),v?r.a.createElement("div",{className:"flex items-center justify-center w-9/12 m-auto fade-in"},r.a.createElement("div",{className:"bg-white rounded-lg w-1/2"},r.a.createElement("div",{className:"flex flex-col items-start p-4"},r.a.createElement("div",{className:"flex items-center w-full"},r.a.createElement("div",{className:"text-gray-900 font-medium text-lg"},"Confirm delete"),r.a.createElement("svg",{className:"ml-auto fill-current text-gray-700 w-6 h-6 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18"},r.a.createElement("path",{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}))),r.a.createElement("hr",null),r.a.createElement("div",null,"Are you sure you want to delete the card ending with "," ",r.a.createElement("span",{className:"font-semibold"},null===N||void 0===N?void 0:N.last4),"?"),r.a.createElement("hr",null),r.a.createElement("div",{className:"ml-auto"},r.a.createElement("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition duration-150 ease-in-out",onClick:function(){return e=null===N||void 0===N?void 0:N.id,void Q(e);var e}},"Confirm"),r.a.createElement("button",{className:"bg-transparent hover:bg-gray-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded duration-150 ease-in-out"},"Close"))))):r.a.createElement(r.a.Fragment,null,(null===L||void 0===L?void 0:L.length)>0?r.a.createElement("h1",{className:"block text-blue-800 text-lg font-bold mb-6 fade-in"},"Your available cards:"):null,(null===L||void 0===L?void 0:L.length)>0?L&&L.map((function(e,t){return r.a.createElement("div",{className:"",key:t},r.a.createElement("div",{className:"w-full flex"},r.a.createElement("div",{className:e.default?"w-full m-auto":"w-10/12 m-auto"},r.a.createElement("div",{className:e.default?"flex justify-between items-center h-16 p-4 my-5 rounded-lg shadow-xl default-card":"flex justify-between items-center h-16 p-4 my-5  rounded-lg border border-blue-300 shadow-xl"},r.a.createElement("div",null,r.a.createElement("img",{className:"h-6 md:h-8 w-6 md:w-8",src:$(e.card_type.trim()),alt:"icon"})),r.a.createElement("div",{className:e.default?"text-xs md:text-base font-normal text-gray-300":"text-xs md:text-base font-normal text-blue-600"},"XXXX - ",e.last4),e.default?r.a.createElement("div",{className:"text-xs px-2 font-light rounded text-gray-400 bg-gray-800"},r.a.createElement("span",{className:"default-card-label"},"Default")):null,r.a.createElement("div",{className:e.default?"text-xs md:text-base font-normal text-gray-300":"text-xs md:text-base font-normal text-blue-600"},e.exp_month,"/",e.exp_year.slice(-2)))),e.default?null:r.a.createElement("div",{className:"w-2/12"},r.a.createElement("div",{className:"group inline-block h-16 p-4 my-5 rounded-lg"},r.a.createElement("button",{className:"outline-none focus:outline-none border rounded-lg px-3 py-2 bg-white flex items-center shadow-xl"},r.a.createElement("span",null,r.a.createElement("svg",{className:"fill-current h-4 w-4 transform group-hover:-rotate-180 transition duration-150 ease-in-out",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})))),r.a.createElement("ul",{className:"bg-white border rounded-sm transform scale-0 group-hover:scale-100 absolute  transition duration-150 ease-in-out origin-top dropdown-wrap"},r.a.createElement("li",{className:"rounded-sm px-3 py-1 hover:bg-gray-200 cursor-pointer",onClick:function(){return t=null===e||void 0===e?void 0:e.id,void K(t);var t}},"Make Default"),r.a.createElement("li",{className:"rounded-sm px-3 py-1 hover:bg-gray-200 cursor-pointer",onClick:function(){return t=e,w(!0),void k(t);var t}},"Delete"))))))})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"/img/check-files.svg",alt:"",className:"w-3/4 md:w-2/4 m-auto opacity-50"})),r.a.createElement("div",{className:"w-3/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center"},"Looks like you have no card on file. Please click on the add card button to add a new card."))))))),r.a.createElement("div",{className:"w-11/12 mt-8 hidden md:block"},r.a.createElement("hr",{className:"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto"})))),r.a.createElement("br",null)))})),ut=Object(d.i)((function(e){var t=g((function(e){return e.accessToken})),a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],s=l[1],o=Object(n.useState)([]),d=Object(u.a)(o,2),p=d[0],b=d[1],f=Object(n.useState)(),x=Object(u.a)(f,2),h=(x[0],x[1]),v=Object(n.useState)(!1),w=Object(u.a)(v,2),E=w[0],N=w[1],k=se((function(e){return e.data})),j=Object(y.b)("fee",(function(){return function(e){return at.apply(this,arguments)}(t)})),O=j.isLoading,L=j.error,C=j.data;if(L){var _=[];_.push("Could not load card fee."),b(_),s(!1)}var S=function(){var e=Object(i.a)(m.a.mark((function e(){var a,n,r,l,c,o,i,u,d,p;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:k.e_mail,amount:C,user_id:k.user_id,payment_type:0,description:"Card Charge",item_id:null},s(!0),e.prev=2,e.next=5,Ze(t,a);case 5:if(n=e.sent,r=n.message,l=n.data,c=n.success,o=n.status,!1!==c&&!1!==o){e.next=16;break}return(i=[]).push(r),b(i),s(!1),e.abrupt("return");case 16:N(!0),h(l.data),window.location.assign(l.authorization_url),b([]),s(!1),e.next=38;break;case 23:if(e.prev=23,e.t0=e.catch(2),s(!1),!e.t0||e.t0.response){e.next=31;break}return(u=[]).push("Network Error, Check Your Internet Connection"),b(u),e.abrupt("return");case 31:if(!e.t0||500!==e.t0.response.status){e.next=36;break}return(d=[]).push(e.t0.response.data.message),b(d),e.abrupt("return");case 36:(p=e.t0.response.data).errors&&(m=p.errors,b(Object.values(m).flat()));case 38:case"end":return e.stop()}var m}),e,null,[[2,23]])})));return function(){return e.apply(this,arguments)}}();return c||!k.e_mail||O||!C?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative mt-10"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Please wait..."))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"Add New Card")),r.a.createElement("br",null),E?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-6 md:py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0"},r.a.createElement("h3",{className:"block text-green-600 text-sm md:text-lg font-semibold mb-6 fade-in text-center"},"Redirecting you to the payment gateway.")),r.a.createElement("div",{className:"w-11/12 mt-8 hidden md:block"},r.a.createElement("hr",{className:"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"relative w-11/12 bg-white rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0 mt-12 md:mt-0"},p.length?r.a.createElement("div",{className:"w-9/12 m-auto bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},p.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"/img/payment-svg-naira.svg",alt:"",className:"w-2/4 md:w-1/4 m-auto"})),r.a.createElement("div",{className:"w-3/4 md:w-2/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center"},"You will be charged \u20a6",Number(C)/100," to confirm the validity of your card. ",r.a.createElement("br",null)," Click proceed to continue.")),r.a.createElement("div",{className:"w-full m-auto mt-10"},r.a.createElement("button",{disabled:!k.e_mail,onClick:S,className:k.e_mail?"flex w-2/4 md:w-1/4 shadow-xl text-xl font-light text-white justify-center py-4 md:py-3 items-center bg-green-600 hover:bg-green-700 rounded-md m-auto transition-colors duration-150 ease-in-out":"flex w-2/4 md:w-1/4 shadow-xl text-xl font-light text-white justify-center py-4 md:py-3 items-center bg-gray-200 rounded-md m-auto cursor-not-allowed"},r.a.createElement("span",{className:"text-sm xl:text-lg lg:text-sm pr-2"},"Proceed"),r.a.createElement("img",{src:"/img/chevron-right.svg",className:"w-5 pt-1",alt:""}))))))),r.a.createElement("br",null)))})),dt=Object(d.i)((function(e){var t,a=g((function(e){return e.accessToken})),l=Object(n.useState)(!1),c=Object(u.a)(l,2),s=c[0],o=c[1],m=Object(n.useState)({}),i=Object(u.a)(m,2),d=i[0],p=i[1],b=Object(y.b)("applications",(function(){return function(e){return ze.apply(this,arguments)}(a)})),f=b.isLoading,x=b.error,h=b.data,v=Object(y.b)("products",(function(){return Te(a)})),w=v.isLoading,E=v.error,N=v.data;return f||w?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12 set-bg"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"My Applications")),r.a.createElement("br",null),x||E?r.a.createElement("div",{className:"w-11/12 bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md mb-5 m-auto md:m-0 md:mb-2",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},"Sorry, we could not fetch your data completely.")))):"",r.a.createElement("div",{className:"w-11/12 bg-white flex rounded py-0 md:py-4 shadow-lg md:border-t-8 md:border-blue-600 mb-0 md:mb-20 m-auto md:m-0 rounded-t-3xl"},r.a.createElement("div",{className:"w-full mb-6 px-8 py-6 relative"},r.a.createElement("h1",{className:"block text-blue-800 text-lg font-bold mb-6 fade-in"},"Recent loan applications:"),(null===h||void 0===h||null===(t=h.data)||void 0===t?void 0:t.length)>0?r.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 md:py-4 overflow-auto  fade-in mt-5 mb-10"},s?r.a.createElement("div",{className:"flex w-full bg-red-100 shadow-lg rounded-lg mb-4 fade-in"},r.a.createElement("div",{className:"w-2 bg-red-600"}),r.a.createElement("div",{className:"flex items-center px-2 py-3"},r.a.createElement("div",{className:"mx-3"},r.a.createElement("h2",{className:"text-xl font-semibold text-red-600"},"Applied for \u20a6",Number(null===d||void 0===d?void 0:d.loan_amount).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("p",{className:"text-gray-600"},r.a.createElement("p",{className:"font-semibold"},"Rejection message:"," "),r.a.createElement("p",null,null===d||void 0===d?void 0:d.message))))):null,r.a.createElement("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden"},r.a.createElement("table",{className:"min-w-full w-full leading-normal"},r.a.createElement("thead",{className:"flex w-full"},r.a.createElement("tr",{className:"flex w-full"},r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Date"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"},"Loan Type"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Amount"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Duration"),r.a.createElement("th",{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},"Status"))),r.a.createElement("tbody",{className:"flex flex-col items-center overflow-y-scroll w-full schedule-table"},h&&h.data.map((function(e){return r.a.createElement("tr",{className:"flex w-full"},r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700"},new Date(e.created_at).toDateString()),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700"},function(e){var t=null===N||void 0===N?void 0:N.data;if(t){var a=t.find((function(t){return t.no===e}));return null===a||void 0===a?void 0:a.description}}(e.product_code)),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center"},"\u20a6",Number(e.loan_amount).toLocaleString(void 0,{maximumFractionDigits:2})),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700 text-center"},e.number_of_payments," months"),r.a.createElement("td",{className:"p-4 w-1/4 px-5 py-5 border-b border-gray-200 bg-white text-xs md:text-sm text-green-600 font-bold text-center"},r.a.createElement("div",{className:"flex justify-center"},function(e){switch(e){case"Pending":return r.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-orange-900 leading-tight"},r.a.createElement("span",{"aria-hidden":!0,className:"absolute inset-0 bg-orange-200 opacity-50 rounded-full"}),r.a.createElement("span",{className:"relative"},e));case"Rejected":return r.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-red-900 leading-tight"},r.a.createElement("span",{"aria-hidden":!0,className:"absolute inset-0 bg-red-200 opacity-50 rounded-full"}),r.a.createElement("span",{className:"relative"},e));default:return r.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight"},r.a.createElement("span",{"aria-hidden":!0,className:"absolute inset-0 bg-green-200 opacity-50 rounded-full"}),r.a.createElement("span",{className:"relative"},e))}}(e.status),"Rejected"===e.status.trim()?r.a.createElement("div",null,r.a.createElement("button",{className:"flex bg-blue-100 hover:bg-blue-200 items-center py-1 px-1 rounded transition-colors duration-150 ease-in-out cursor-pointer",onClick:function(){return function(e){p(e),o(!0),setTimeout((function(){p({}),o(!1)}),1e4)}(e)}},r.a.createElement("div",null,r.a.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"alert/notification_important_24px"},r.a.createElement("path",{id:"icon/outlined/alert/notification_important_24px","fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.5 2.75C10.5 1.92 11.17 1.25 12 1.25C12.83 1.25 13.5 1.92 13.5 2.75V3.92C16.64 4.6 19 7.4 19 10.75V16.75L21 18.75V19.75H3V18.75L5 16.75V10.75C5 7.4 7.36 4.6 10.5 3.92V2.75ZM12 5.75C14.76 5.75 17 7.99 17 10.75V17.75H7V10.75C7 7.99 9.24 5.75 12 5.75ZM10.01 20.76C10.01 21.86 10.9 22.75 12 22.75C13.1 22.75 13.99 21.86 13.99 20.76H10.01ZM13 7.75V11.75H11V7.75H13ZM13 15.75V13.75H11V15.75H13Z",fill:"#0A54A2"})))))):null)))})))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"/img/check-files.svg",alt:"",className:"w-3/4 md:w-1/3 m-auto opacity-50"})),r.a.createElement("div",{className:"w-3/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center my-6"},"We could not find any loan application on your profile so far..."),r.a.createElement("div",{className:"w-full mb-8 lg:mb-16 m-auto text-center"},r.a.createElement("button",{onClick:function(){return e.history.push("/new-loan-request")},className:"inline-flex m-auto shadow-xl text-xl text-white px-8 lg:px-10 py-2 lg:py-3 items-center bg-blue-700 rounded-md hover:bg-blue-600 transition-colors duration-150 ease-in-out"},r.a.createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"add_24px"},r.a.createElement("path",{id:"icon/content/add_24px",d:"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z",fill:"white"}))),r.a.createElement("span",{className:"ml-2 text-lg font-normal"},"Take a loan"))))))))),r.a.createElement("br",null)))}));var pt=Object(d.i)((function(e){var t=se((function(e){return e.data})),a=Object(n.useState)(),l=Object(u.a)(a,2),c=l[0],s=l[1],o=new URLSearchParams(Object(d.g)().search),p=Object(d.f)(),b=g((function(e){return e.accessToken})),f=Object(y.a)(et),x=Object(u.a)(f,2),h=x[0],v=x[1],w=v.isLoading,E=v.error,N=v.data,k=Object(y.a)(Qe),j=Object(u.a)(k,2),O=j[0],L=j[1],C=L.isLoading,_=L.error,S=L.data,V=Object(n.useCallback)(Object(i.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({token:b,reference:o.get("trxref")});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),[b,o,O]);Object(n.useEffect)((function(){S||V(),(null===t||void 0===t?void 0:t.e_mail)&&(null===S||void 0===S?void 0:S.status)&&(0===(null===S||void 0===S?void 0:S.data.payment_type)&&z(),2===(null===S||void 0===S?void 0:S.data.payment_type)&&e.history.replace({pathname:"/pay/success",referrerData:{amount:S.data.amount,loan_id:S.data.item_id}}))}),[S,t]);var z=Object(n.useCallback)(Object(i.a)(m.a.mark((function a(){var n,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h({token:b,email:t.e_mail,transaction_ref:o.get("trxref")});case 3:if(n=a.sent,r=n.message,n.data,n.success){a.next=9;break}throw new Error(r);case 9:e.history.replace("/cards",{message:r}),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0),s(a.t0.message);case 16:case"end":return a.stop()}}),a,null,[[0,12]])}))),[t,b,o,h,p]);return C||w||!t.e_mail?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative mt-20"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Please wait. We are verifying the transaction..."))):_||E||S&&!S.status||N&&!N.status?r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("br",null),r.a.createElement("div",{className:"relative w-11/12 bg-white rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0 mt-12 md:mt-0"},r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"/img/error-icon.svg",alt:"",className:"w-2/4 md:w-1/4 m-auto"})),r.a.createElement("div",{className:"w-3/4 md:w-2/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center"},r.a.createElement("span",{className:"text-red-600"},"Oops! An error has occured.")," ",r.a.createElement("br",null),_?_.response.status+" - "+_.response.data.message:"",S&&!1===S.status?S.message:"",E?E.response.status+" - "+E.response.data.message+" "+c:"",N&&!1===N.status?NaN+N.message:"",c||null)),r.a.createElement("div",{className:"w-full m-auto mt-10"},r.a.createElement("button",{onClick:function(){return e.history.replace("/")},className:"flex w-2/4 md:w-1/4 shadow-xl text-xl font-light text-white justify-center py-4 md:py-3 items-center bg-gray-800 hover:bg-gray-700 rounded-md m-auto transition-colors duration-150 ease-in-out"},r.a.createElement("svg",{className:"mr-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_left_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_left_24px",d:"M15.705 16.59L11.125 12L15.705 7.41L14.295 6L8.29498 12L14.295 18L15.705 16.59Z",fill:"white"}))),r.a.createElement("span",{className:"text-sm xl:text-lg lg:text-sm pr-2"},"Back to home")))))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("br",null),r.a.createElement("div",{className:"relative w-11/12 bg-white rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0 mt-12 md:mt-0"},r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"/img/error-icon.svg",alt:"",className:"w-2/4 md:w-1/4 m-auto"})),r.a.createElement("div",{className:"w-3/4 md:w-2/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center"},r.a.createElement("span",{className:"text-red-600"},"Fatal exception. Please reach out to the administrator immediately!"))))))))}));function bt(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(i.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).post("/payment/startrepayment");case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).post("/payment/completerepayment",a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(i.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t).post("/payment/initializepayment",a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wt=Object(d.i)((function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],c=a[1],s=g((function(e){return e.accessToken})),o=se(Object(n.useCallback)((function(e){return e.data}),[])),d=Object(n.useState)(),p=Object(u.a)(d,2),b=p[0],f=p[1],x=Object(n.useState)(null),h=Object(u.a)(x,2),v=h[0],w=h[1],E=Object(n.useState)(!0),y=Object(u.a)(E,2),N=y[0],k=y[1],j=Object(n.useState)(),O=Object(u.a)(j,2),L=O[0],C=O[1],_=Object(n.useState)(!1),S=Object(u.a)(_,2),V=S[0],z=S[1],M=Object(n.useState)(null),H=Object(u.a)(M,2),F=H[0],A=H[1],B=Object(n.useState)(!1),T=Object(u.a)(B,2),D=T[0],P=T[1],I=Object(n.useState)(),Z=Object(u.a)(I,2),q=Z[0],Y=Z[1],R=Object(n.useState)(null),U=Object(u.a)(R,2),W=U[0],X=U[1],G=Object(n.useState)(null),J=Object(u.a)(G,2),K=J[0],Q=J[1],$=Object(n.useState)([]),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=e.amount?100*Number(e.amount):null,re=e.loanId?e.loanId:null,le=function(e){ae(Object.values(e).flat())},ce=Object(n.useCallback)(Object(i.a)(m.a.mark((function e(){var t,a,n,r,l,i,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:o.e_mail},c(!0),e.prev=2,e.next=5,Ye(s,t);case 5:if(a=e.sent,n=a.message,r=a.data,!1!==a.success){e.next=15;break}return(l=[]).push(n),ae(l),c(!1),e.abrupt("return");case 15:setTimeout((function(){w(null)}),3e3),f(r),ae([]),c(!1),e.next=36;break;case 21:if(e.prev=21,e.t0=e.catch(2),c(!1),!e.t0||e.t0.response){e.next=29;break}return(i=[]).push("Network Error, Check Your Internet Connection"),ae(i),e.abrupt("return");case 29:if(!e.t0||500!==e.t0.response.status){e.next=34;break}return(u=[]).push(e.t0.response.data.message),ae(u),e.abrupt("return");case 34:(d=e.t0.response.data).errors&&le(d.errors);case 36:case"end":return e.stop()}}),e,null,[[2,21]])}))),[s,o.e_mail]);Object(n.useEffect)((function(){o&&o.e_mail&&ce()}),[o]);var oe=function(){var e=Object(i.a)(m.a.mark((function e(){var t,a,n,r,l,o,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,bt(s);case 4:if(t=e.sent,a=t.message,n=t.data,!1!==t.status){e.next=14;break}return(r=[]).push(a),ae(r),c(!1),e.abrupt("return");case 14:X(a),k(!1),z(!0),setTimeout((function(){X(null)}),4e3),Y(n),ae([]),c(!1),e.next=38;break;case 23:if(e.prev=23,e.t0=e.catch(1),c(!1),!e.t0||e.t0.response){e.next=31;break}return(l=[]).push("Network Error, Check Your Internet Connection"),ae(l),e.abrupt("return");case 31:if(!e.t0||500!==e.t0.response.status){e.next=36;break}return(o=[]).push(e.t0.response.data.message),ae(o),e.abrupt("return");case 36:(i=e.t0.response.data).errors&&le(i.errors);case 38:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var t=Object(i.a)(m.a.mark((function t(){var a,n,r,l,c,o,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(!0),a={otp:F,requestid:q.otprequestid,amount:ne,payment_type:2,description:"On Demand Charge",card_id:L,loan_id:re},t.prev=2,t.next=5,ft(s,a);case 5:if(n=t.sent,r=n.message,n.data,!1!==n.status){t.next=15;break}return(l=[]).push(r),ae(l),P(!1),t.abrupt("return");case 15:Q(r),ae([]),e.history.replace({pathname:"/pay/success",referrerData:{loan_id:re}}),P(!1),t.next=36;break;case 21:if(t.prev=21,t.t0=t.catch(2),P(!1),!t.t0||t.t0.response){t.next=29;break}return(c=[]).push("Network Error, Check Your Internet Connection"),ae(c),t.abrupt("return");case 29:if(!t.t0||500!==t.t0.response.status){t.next=34;break}return(o=[]).push(t.t0.response.data.message),ae(o),t.abrupt("return");case 34:(i=t.t0.response.data).errors&&le(i.errors);case 36:case"end":return t.stop()}}),t,null,[[2,21]])})));return function(){return t.apply(this,arguments)}}();return l||!o.e_mail?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Please wait while we process your request...")):D?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative mt-20"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Hold on, while we attempt to charge your card..."))):null===ne||null===re?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 m-auto px-4 relative mt-20"},r.a.createElement("img",{src:"/img/error-icon.svg",alt:"",className:"w-2/4 md:w-1/4 m-auto"}),r.a.createElement("h6",{className:"m-auto text-lg text-red-600 text-center font-semibold mt-4"},"Ooops! The system was unable to capture one or more of your payment data. Please try again!"))):r.a.createElement(r.a.Fragment,null,te.length?r.a.createElement("div",{className:"w-11/12 m-auto bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},te.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",v&&(null===b||void 0===b?void 0:b.length)>0?r.a.createElement("div",{className:"w-11/12 m-auto bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},v)))):W?r.a.createElement("div",{className:"w-11/12 m-auto bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},W)))):K?r.a.createElement("div",{className:"w-11/12 m-auto bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},K)))):null,V?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-green-700 font-medium text-center my-6"},"We have sent a code to your phone. Please enter the code below."),r.a.createElement("div",{className:"md:flex justify-center w-full"},r.a.createElement("div",{className:"md:w-3/5 px-3 "},r.a.createElement("input",{name:"otp",onInput:function(e){A(e.target.value)},className:"shadow appearance-none border rounded w-full py-3 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"number",placeholder:"Enter the OTP sent to your phone..."})),r.a.createElement("button",{onClick:me,disabled:D,className:"bg-blue-700 hover:bg-blue-800 text-white text-sm font-light py-3 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center justify-center my-3 md:my-0 ml-3",type:"button"},r.a.createElement("span",null," Confirm & Pay"),D?r.a.createElement("img",{src:"/img/25.gif",className:"ml-2",alt:""}):r.a.createElement("svg",{className:"ml-2",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"done_24px"},r.a.createElement("path",{id:"icon/action/done_24px",d:"M6.5999 11.925L3.4499 8.775L2.3999 9.825L6.5999 14.025L15.5999 5.025L14.5499 3.975L6.5999 11.925Z",fill:"white"})))))):null,N&&(null===b||void 0===b?void 0:b.length)>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 m-auto"},r.a.createElement("div",{className:"w-9/12 m-auto mt-4"},r.a.createElement("h3",{className:"text-md md:text-xl text-gray-700 text-left font-semibold mb-4"},"Select your card:")),r.a.createElement("div",{className:"relative w-9/12 m-auto"},r.a.createElement("svg",{className:"w-2 h-2 absolute top-0 right-0 m-4 pointer-events-none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 412 232"},r.a.createElement("path",{d:"M206 171.144L42.678 7.822c-9.763-9.763-25.592-9.763-35.355 0-9.763 9.764-9.763 25.592 0 35.355l181 181c4.88 4.882 11.279 7.323 17.677 7.323s12.796-2.441 17.678-7.322l181-181c9.763-9.764 9.763-25.592 0-35.355-9.763-9.763-25.592-9.763-35.355 0L206 171.144z",fill:"#648299"})),r.a.createElement("select",{className:"w-full border border-gray-300 rounded-full text-gray-600 h-10 pl-5 pr-10 bg-white hover:border-gray-400 focus:outline-none appearance-none m-auto",onChange:function(e){return t=e.target.value,void C(t);var t}},r.a.createElement("option",{value:""},"-- Select a card --"),b&&b.map((function(e,t){return r.a.createElement("option",{key:t,value:e.id},"XXXX-",e.last4," - Exp: ",e.exp_month,"/",e.exp_year.slice(-2)," (",e.card_type.trim(),")")})))),r.a.createElement("div",{className:"w-full m-auto mt-10"},r.a.createElement("button",{disabled:!L,onClick:function(){oe()},className:L?"flex w-2/4 md:w-1/4 shadow-xl text-xl font-light text-white justify-center py-4 md:py-3 items-center bg-green-600 hover:bg-green-700 rounded-md m-auto transition-colors duration-150 ease-in-out":"flex w-2/4 md:w-1/4 text-xl font-light text-white justify-center py-4 md:py-3 items-center bg-gray-200 rounded-md m-auto cursor-not-allowed"},r.a.createElement("span",{className:"text-sm xl:text-lg lg:text-sm pr-2"},"Proceed"),r.a.createElement("img",{src:"/img/chevron-right.svg",className:"w-5 pt-1",alt:""}))))):N&&0===(null===b||void 0===b?void 0:b.length)?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"/img/check-files.svg",alt:"",className:"w-3/4 md:w-2/4 m-auto opacity-50"})),r.a.createElement("div",{className:"w-3/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center"},"We found no cards on your profile. Please add a card!")),r.a.createElement("div",{className:"flex justify-center items-center h-16 my-2 md:my-6"},r.a.createElement("button",{className:"flex bg-blue-200 hover:bg-blue-300 items-center py-2 px-4 rounded-lg transition-colors duration-150 ease-in-out cursor-pointer",onClick:function(){e.history.push("/cards/add")}},r.a.createElement("div",null,r.a.createElement("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"add_24px"},r.a.createElement("path",{id:"icon/content/add_24px",d:"M19 13.3832H13V19.229H11V13.3832H5V11.4346H11V5.58878H13V11.4346H19V13.3832Z",fill:"#0A54A2"})))),r.a.createElement("div",{className:"ml-2 text-blue-700 text-md"},"Add Card")))):null)})),Et=Object(d.i)((function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],c=a[1],s=g((function(e){return e.accessToken})),o=se(Object(n.useCallback)((function(e){return e.data}),[])),d=Object(n.useState)(),p=Object(u.a)(d,2),b=(p[0],p[1]),f=Object(n.useState)([]),x=Object(u.a)(f,2),h=x[0],v=x[1],w=e.amount?100*Number(e.amount):null,E=e.loanId?e.loanId:null,y=Object(n.useCallback)(Object(i.a)(m.a.mark((function e(){var t,a,n,r,l,i,u,d,p,g;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:o.e_mail,amount:w,user_id:o.user_id,payment_type:2,description:"Repayment with new card",item_id:E},c(!0),e.prev=2,e.next=5,ht(s,t);case 5:if(a=e.sent,n=a.message,r=a.data,l=a.success,i=a.status,!1!==l&&!1!==i){e.next=16;break}return(u=[]).push(n),v(u),c(!1),e.abrupt("return");case 16:c(!0),b(r.data),window.location.assign(r.authorization_url),v([]),c(!1),e.next=38;break;case 23:if(e.prev=23,e.t0=e.catch(2),c(!1),!e.t0||e.t0.response){e.next=31;break}return(d=[]).push("Network Error, Check Your Internet Connection"),v(d),e.abrupt("return");case 31:if(!e.t0||500!==e.t0.response.status){e.next=36;break}return(p=[]).push(e.t0.response.data.message),v(p),e.abrupt("return");case 36:(g=e.t0.response.data).errors&&(m=g.errors,v(Object.values(m).flat()));case 38:case"end":return e.stop()}var m}),e,null,[[2,23]])}))),[w,o,s]);return Object(n.useEffect)((function(){y()}),[y]),l||!o.e_mail?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Please wait while we process your request...")):null===w||null===E?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 m-auto px-4 relative mt-20"},r.a.createElement("img",{src:"/img/error-icon.svg",alt:"",className:"w-2/4 md:w-1/4 m-auto"}),r.a.createElement("h6",{className:"m-auto text-lg text-red-600 text-center font-semibold mt-4"},"Ooops! The system was unable to capture one or more of your payment data. Please try again!"))):r.a.createElement(r.a.Fragment,null,h.length?r.a.createElement("div",{className:"bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},h.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",r.a.createElement("div",{className:"w-11/12 bg-white rounded py-6 md:py-12 border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0"},r.a.createElement("h3",{className:"block text-green-600 text-sm md:text-lg font-semibold mb-6 fade-in text-center"},"Redirecting you to the payment gateway.")))})),yt=Object(d.i)((function(e){var t=e.amount?e.amount:null,a=e.loanId?e.loanId:null,l=Object(n.useState)(!1),c=Object(u.a)(l,2),s=c[0],o=(c[1],g((function(e){return e.accessToken})),se(Object(n.useCallback)((function(e){return e.data}),[]))),m=Object(n.useState)(),i=Object(u.a)(m,2),d=i[0],p=(i[1],Object(n.useState)(null)),b=Object(u.a)(p,2),f=b[0],x=(b[1],Object(n.useState)(!1)),h=Object(u.a)(x,2),v=h[0],w=h[1],E=Object(n.useState)(),y=Object(u.a)(E,2),N=(y[0],y[1],Object(n.useState)(!1)),k=Object(u.a)(N,2),j=k[0],O=k[1],L=Object(n.useState)([]),C=Object(u.a)(L,2),_=C[0];C[1];return s||!o.e_mail?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative mt-20"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Please wait while we process your request..."))):null===t||null===a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 m-auto px-4 relative mt-20"},r.a.createElement("img",{src:"/img/error-icon.svg",alt:"",className:"w-2/4 md:w-1/4 m-auto"}),r.a.createElement("h6",{className:"m-auto text-lg text-red-600 text-center font-semibold mt-4"},"Ooops! The system was unable to capture one or more of your payment data. Please try again!"))):r.a.createElement(r.a.Fragment,null,_.length?r.a.createElement("div",{className:"w-11/12 m-auto bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},_.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",f&&(null===d||void 0===d?void 0:d.length)>0?r.a.createElement("div",{className:"w-11/12 m-auto bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md fade-in",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-teal-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm"},f)))):null,v||j?null:r.a.createElement("div",{className:"md:flex w-11/12 m-auto"},r.a.createElement("div",{className:"flex justify-between items-center w-full md:w-1/2 h-28 p-4 my-6 mr-2 hover:bg-green-100 rounded-lg border border-blue-300 shadow-md cursor-pointer transition duration-300 ease-in-out fadeInUp",onClick:function(){w(!0)}},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("img",{className:"rounded-lg h-12 w-12",src:"/img/new-card.svg",alt:"Saved cards"}),r.a.createElement("div",{className:"ml-4"},r.a.createElement("div",{className:"text-sm font-semibold text-gray-600"},"Use Existing Card"),r.a.createElement("div",{className:"text-sm font-light text-gray-500"},"Pay with any of your previously saved cards.")))),r.a.createElement("div",{className:"flex justify-between items-center w-full md:w-1/2 h-28 p-4 my-6 mr-2 hover:bg-green-100 rounded-lg border border-blue-300 shadow-md cursor-pointer transition duration-300 ease-in-out fadeInUp",onClick:function(){O(!0)}},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("img",{className:"rounded-lg h-12 w-12",src:"/img/saved-cards.svg",alt:"New card"}),r.a.createElement("div",{className:"ml-4"},r.a.createElement("div",{className:"text-sm font-semibold text-gray-600"},"New Card"),r.a.createElement("div",{className:"text-sm font-light text-gray-500"},"Pay with a new card"))))),v?r.a.createElement(wt,{amount:t,loanId:a}):null,j?r.a.createElement(Et,{amount:t,loanId:a}):null)})),Nt=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),s=Object(u.a)(c,2),o=s[0],m=s[1],i=Object(n.useState)(!1),p=Object(u.a)(i,2),b=p[0],g=p[1],f=Object(n.useState)(!1),x=Object(u.a)(f,2),h=x[0],v=x[1],w=Object(d.h)().loanId,E=function(e){l(y(e))},y=function(e){switch(e){case"bank":return{tag:"bank",name:"Bank (Coming soon)"};case"card":return{tag:"card",name:"Card"};case"transfer":return{tag:"transfer",name:"E-Transfer (Coming Soon)"};default:return{}}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"Make Payment")),r.a.createElement("br",null),r.a.createElement("div",{className:"relative w-11/12 bg-white rounded py-20 mb-20 m-auto md:m-0 mt-12 md:mt-0 shadow-xl px-6"},h?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"text-lg md:text-2xl text-blue-700 text-center font-bold m-auto mb-10"},a?"You have chosen to pay with - "+(null===a||void 0===a?void 0:a.name):"How would you like to pay?"),"card"===(null===a||void 0===a?void 0:a.tag)?r.a.createElement(yt,{amount:o,loanId:w}):r.a.createElement("div",{className:"mb-6 m-auto px-20 -mx-2"},r.a.createElement("div",{className:"w-full grid grid-cols-1 md:grid-cols-3 gap-4 justify-items-auto"},r.a.createElement("div",{className:"hover:bg-gray-100 rounded-lg px-6 md:px-12 py-3 md:py-6 shadow-lg border transition duration-300 ease-in-out cursor-pointer fade-in",onClick:function(){return E("bank")}},r.a.createElement("div",{className:"bg-gray-200 p-6 md:p-10 w-20 md:w-40 h-20 md:h-40 rounded-full m-auto"},r.a.createElement("img",{className:"w-full m-auto",src:"/img/pay-with-bank.svg",alt:""})),r.a.createElement("div",{className:"px-6 py-4"},r.a.createElement("div",{className:"font-semibold text-center text-gray-700 text-xl mb-2"},"Bank"),r.a.createElement("div",{className:"font-base text-center text-gray-600 text-sm mb-2"},"(Coming soon)"))),r.a.createElement("div",{className:"bg-blue-500 hover:bg-blue-600 rounded-lg px-6 md:px-12 py-3 md:py-6 shadow-lg border transition duration-300 ease-in-out cursor-pointer hover:animate-bounce fade-in-2s",onClick:function(){return E("card")}},r.a.createElement("div",{className:"bg-gray-200 p-6 md:p-10 w-20 md:w-40 h-20 md:h-40 rounded-full m-auto"},r.a.createElement("img",{className:"w-full m-auto",src:"/img/pay-with-card.svg",alt:""})),r.a.createElement("div",{className:"px-6 py-4"},r.a.createElement("div",{className:"font-semibold text-white text-center text-xl mb-2"},"Card"))),r.a.createElement("div",{className:"hover:bg-gray-100 rounded-lg px-6 md:px-12 py-3 md:py-6 shadow-lg border transition duration-300 ease-in-out cursor-pointer fade-in-3s",onClick:function(){return E("transfer")}},r.a.createElement("div",{className:"bg-gray-200 p-6 md:p-10 w-20 md:w-40 h-20 md:h-40 rounded-full m-auto"},r.a.createElement("img",{className:"w-full m-auto",src:"/img/pay-with-transfer.svg",alt:""})),r.a.createElement("div",{className:"px-6 py-4"},r.a.createElement("div",{className:"font-semibold text-center text-gray-700 text-xl mb-2"},"E-Transfer"),r.a.createElement("div",{className:"font-base text-center text-gray-600 text-sm mb-2"},"(Coming soon)")))))):r.a.createElement("div",{className:"mt-2 flex flex-col lg:w-1/2 w-full m-auto"},r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"/img/make-payment.svg",alt:"",className:"w-3/4 m-auto"})),r.a.createElement("h3",{className:"text-lg md:text-2xl text-gray-600 text-center font-bold m-auto mb-10"},"How much would you like to pay?"),r.a.createElement("div",{className:"flex flex-wrap items-stretch w-full mb-4 relative h-15 bg-white items-center border border-green-300 rounded rounded-r-lg mb-6 pr-10"},r.a.createElement("div",{className:"flex -mr-px justify-center bg-green-100 rounded-l-lg w-15 p-4"},r.a.createElement("span",{className:"flex items-center leading-normal px-3 border-0 rounded rounded-r-none text-md md:text-xl text-green-500"},"\u20a6")),r.a.createElement("input",{type:"number",className:"flex-shrink flex-grow flex-auto leading-normal w-px flex-1 border-0 h-10 border-grey-light rounded rounded-l-none px-3 self-center relative  font-roboto text-sm md:text-lg outline-none text-green-600 font-semibold",placeholder:"\u20a6100 minimum",onInput:function(e){Number(e.target.value)>=100?(m(Number(e.target.value)),g(!0)):(m(null),g(!1))},min:100})),r.a.createElement("button",{onClick:function(){v(!0)},disabled:!b,className:b?"bg-green-700 hover:bg-green-800 text-white text-md font-semibold py-4 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center justify-center my-3 md:my-0":"bg-gray-100 text-white text-md font-semibold py-4 px-10 rounded focus:outline-none focus:shadow-outline inline-flex items-center justify-center my-3 md:my-0 cursor-not-allowed",type:"button"},r.a.createElement("span",null," Continue "),r.a.createElement("svg",{className:"ml-2 -mt-1",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"}))))))))))},kt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("br",null),r.a.createElement("div",{className:"relative w-11/12 py-12 mb-20 m-auto md:m-0 mt-12 md:mt-0"},r.a.createElement("div",{className:"w-full m-auto mb-6"},r.a.createElement("img",{src:"/img/404.svg",alt:"",className:"w-3/4 md:w-1/3 m-auto"})))))))},jt=Object(d.i)((function(e){var t=e.location.referrerData;null!==t&&""!==t&&void 0!==t||e.history.push("/pay");var a=g((function(e){return e.accessToken})),l=Object(n.useState)([]),c=Object(u.a)(l,2),s=c[0],o=c[1],m=Object(y.b)("loanDetail",(function(){return Fe(a,t.loan_id)})),i=m.isLoading,d=m.error,p=m.data;if(d){var b=[];b.push("Could not load the details of the loan attached to this payment. Please check with your loan officer to ensure payment accuracy."),o(b)}return i?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-11/12 bg-white rounded py-12 shadow-lg m-auto px-8 relative mt-10"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"Please wait..."))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-normal md:font-semibold text-md md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"Make Payment")),r.a.createElement("br",null),r.a.createElement("div",{className:"relative w-11/12 bg-white rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none mb-20 m-auto md:m-0 mt-12 md:mt-0"},s.length?r.a.createElement("div",{className:"w-9/12 m-auto bg-red-100 border-t-4 border-red-500 rounded-b text-red-900 px-4 py-3 shadow-md my-5",role:"alert"},r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:"py-1"},r.a.createElement("svg",{className:"fill-current h-6 w-6 text-red-500 mr-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},r.a.createElement("path",{d:"M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z"}))),r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyleType:"none"}},s.map((function(e,t){return r.a.createElement("li",{key:t},e)})))))):"",r.a.createElement("div",{className:"w-full m-auto mb-6 animate-pulse"},r.a.createElement("img",{src:"/img/payment-success.png",alt:"",className:"w-3/4 md:w-2/4 m-auto"})),r.a.createElement("div",{className:"w-3/4 m-auto"},r.a.createElement("p",{className:"text-gray-700 font-medium text-center"},r.a.createElement("span",{className:"text-green-700 text-xl md:text-2xl"},"Awesome!")," ",r.a.createElement("br",null),"We have been able to successfully process your repayment of"," ",r.a.createElement("span",{className:"text-green-700"},t&&t.amount?"\u20a6"+Number(t.amount)/100:null)," ","for loan:"," ",p&&p.loan_id?p.loan_id:null,".")),r.a.createElement("div",{className:"w-full m-auto mt-10"},r.a.createElement("button",{onClick:function(){return e.history.replace("/")},className:"flex w-2/4 md:w-1/4 shadow-xl text-xl font-light text-white justify-center py-4 md:py-3 items-center bg-green-600 hover:bg-green-700 rounded-md m-auto transition-colors duration-150 ease-in-out"},r.a.createElement("span",{className:"text-sm xl:text-lg lg:text-sm pr-2"},"Go to dashboard"),r.a.createElement("img",{src:"/img/chevron-right.svg",className:"w-5 pt-1",alt:""})))))),r.a.createElement("br",null)))}));var Ot=Object(d.i)((function(e){var t=g((function(e){return e.accessToken})),a=Object(d.h)().loanId,n=Object(y.b)("loanDetail",(function(){return Fe(t,a)})),l=n.isLoading,c=(n.error,n.data),s=function(e){switch(e){case"Pending":return r.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-orange-900 leading-tight"},r.a.createElement("span",{"aria-hidden":!0,className:"absolute inset-0 bg-orange-200 opacity-50 rounded-full"}),r.a.createElement("span",{className:"relative"},e));case"Rejected":return r.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-red-900 leading-tight"},r.a.createElement("span",{"aria-hidden":!0,className:"absolute inset-0 bg-red-200 opacity-50 rounded-full"}),r.a.createElement("span",{className:"relative"},e));default:return r.a.createElement("span",{className:"relative inline-block px-3 py-1 font-semibold text-green-900 leading-tight"},r.a.createElement("span",{"aria-hidden":!0,className:"absolute inset-0 bg-green-200 opacity-50 rounded-full"}),r.a.createElement("span",{className:"relative"},e))}},o=c&&c.data,m=[];c&&o.schedules.map((function(e){m.push({col1:e.id,col2:r.a.createElement("span",{className:"text-green-600 font-bold"},"\u20a6",Number(e.repayment).toLocaleString(void 0,{maximumFractionDigits:2})),col3:new Date(e.schedule_date).toDateString(),col4:s(e.payment_status)})})),r.a.useMemo((function(){return[]}),[]);var i=r.a.useMemo((function(){return[{Header:"S/N",accessor:"col1"},{Header:"Opening Balance",accessor:"col2"},{Header:"Due Date",accessor:"col3"},{Header:"Status",accessor:"col4"}]}),[]),u=Object(_e.useTable)({columns:i,data:m}),p=u.getTableProps,b=u.getTableBodyProps,f=u.headerGroups,x=u.rows,h=u.prepareRow;return l?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto py-20"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{className:"md:pl-12"},r.a.createElement("div",{className:"flex "},r.a.createElement("div",{className:"w-full "},r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"Loan Details")),r.a.createElement("br",null),r.a.createElement("div",{className:"w-11/12 bg-white flex flex-row rounded py-6 shadow-sm  md:border-none pl-4 mb-20 m-auto md:m-0"},r.a.createElement("div",{className:"w-1/4  border-r-8 border-blue-100 align-middle justify-center"},r.a.createElement("h2",{className:"text-blue-700 text-4xl font-semibold py-5 pl-3"},o.loan_id)),r.a.createElement("div",{className:"w-full sm:w-1/4 flex-row"},r.a.createElement("div",{className:"flex flex-row text-blue-700 xl:text-lg lg:text-sm mb-4"},r.a.createElement("div",{className:"w-1/2 text-right mr-5 "},"Amount: "),r.a.createElement("div",{className:"w-1/2 text-left font-bold"},"\u20a6",Number(o.loan_amount).toLocaleString(void 0,{maximumFractionDigits:2}))),r.a.createElement("div",{className:"flex flex-row text-blue-700 xl:text-lg lg:text-sm"},r.a.createElement("div",{className:"w-1/2 text-right mr-5 "},"Duration:"),r.a.createElement("div",{className:"w-1/2 text-left font-bold"},o.number_of_payments," months"))),r.a.createElement("div",{className:"w-full sm:w-1/4 flex flex-col  "},r.a.createElement("div",{className:"w-full mb-4 text-center "},r.a.createElement("p",{style:{fontSize:10},className:"text-center w-1/3 float-right text-teal-600 bg-teal-100 py-1  rounded-full"},o.status))),r.a.createElement("div",{style:{alignItems:"center"},className:"w-full sm:w-1/4 justify-center flex sm:justify-end align-middle "},r.a.createElement("button",{onClick:function(){return e.history.push("/pay/"+a)},className:"bg-green-700 text-white inline-flex sm:-mr-6 px-6 py-3 rounded"},r.a.createElement("span",{className:"xl:text-lg lg:text-sm"},"Make Payment"),r.a.createElement("svg",{className:"mt-1",width:"14",height:"14",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{id:"chevron_right_24px"},r.a.createElement("path",{id:"icon/navigation/chevron_right_24px",d:"M9.70492 6L8.29492 7.41L12.8749 12L8.29492 16.59L9.70492 18L15.7049 12L9.70492 6Z",fill:"white"})))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"flex items-center mt-10 lg:mt-0"},r.a.createElement("div",{className:"w-8 h-1 bg-blue-700 rounded mr-0 hidden md:block"}),r.a.createElement("h4",{className:"bg-blue-700 md:bg-transparent text-white md:text-gray-700 font-light md:font-semibold text-sm md:text-xl tracking-wide uppercase md:normal-case py-2 px-6 rounded-r-lg"},"Repayment Log")),r.a.createElement("br",null),r.a.createElement("div",{className:"w-11/12 bg-white flex rounded py-12 shadow-lg border-b-4 border-blue-700 md:border-none  mb-20 m-auto md:m-0"},r.a.createElement("div",{className:"w-full mb-6 px-8 py-6 relative"},r.a.createElement("div",{className:"-mx-4 sm:-mx-8 px-4 sm:px-8 py-0 md:py-4 overflow-auto  fade-in mt-5 mb-10"},r.a.createElement("div",{className:"inline-block min-w-full shadow rounded-lg overflow-hidden"},r.a.createElement("table",Object.assign({},p(),{className:"min-w-full w-full leading-normal"}),r.a.createElement("thead",{className:"flex w-full"},f.map((function(e){return r.a.createElement("tr",Object.assign({},e.getHeaderGroupProps(),{className:"flex w-full"}),e.headers.map((function(e){return r.a.createElement("th",Object.assign({},e.getHeaderProps(),{className:"p-4 w-1/4 px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-center text-sm font-semibold text-gray-600 uppercase tracking-wider"}),e.render("Header"))})))}))),r.a.createElement("tbody",Object.assign({},b(),{className:"flex flex-col items-center overflow-y-scroll w-full schedule-table"}),x.map((function(e){return h(e),r.a.createElement("tr",Object.assign({},e.getRowProps(),{className:"flex w-full"}),e.cells.map((function(e){return r.a.createElement("td",Object.assign({},e.getCellProps(),{className:"p-4 w-1/4 px-5 py-5 text-center border-b border-gray-200 bg-white text-xs md:text-sm text-gray-700"}),e.render("Cell"))})))})))))))),r.a.createElement("div",{className:"w-11/12 mt-8 hidden md:block"},r.a.createElement("hr",{className:"w-9/12 border-t-2 border-blue-600 bg-blue-400 rounded m-auto"})))),r.a.createElement("br",null)))}));function Lt(){var e=Object(d.f)(),t=g(Object(n.useCallback)((function(e){return e.authenticated}),[])),a=g(Object(n.useCallback)((function(e){return e.initialize}),[])),l=se(Object(n.useCallback)((function(e){return e.initialize}),[])),c=se(Object(n.useCallback)((function(e){return e.initializeProfileSection}),[])),o=Object(n.useState)((function(){return window.Capacitor||window.capacitor})),b=Object(u.a)(o,1)[0],f=Object(n.useCallback)(function(){var e=Object(i.a)(m.a.mark((function e(t){var n,r,s,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(t),n=t.token,e.prev=2,e.next=5,ue(n);case 5:return r=e.sent,s=r.data,e.next=9,q(n);case 9:o=e.sent,l(s),c(o,o.every((function(e){return!0===e.completed}))),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(2);case 16:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),[a,c,l]),x=(Object(n.useCallback)(function(){var t=Object(i.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.updateToken(70).then(function(){var e=Object(i.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&a(n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){n.logout(),e.replace("/")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[a,e]),Object(n.useCallback)((function(){O.init(Object(s.a)({onLoad:"login-required"},b?{adapter:"capacitor-native"}:{})).then(function(){var e=Object(i.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&f(O);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[f,O]));return Object(n.useEffect)((function(){return x(),function(){}}),[x]),t?r.a.createElement(p.a,null,r.a.createElement(E,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(A,null)),r.a.createElement(d.a,{path:"/new-loan-request"},r.a.createElement(rt,null)),r.a.createElement(d.a,{path:"/loan-schedule"},r.a.createElement(mt,null)),r.a.createElement(d.a,{path:"/profile"},r.a.createElement(Ce,null)),r.a.createElement(d.a,{path:"/loans"},r.a.createElement(Be,null)),r.a.createElement(d.a,{path:"/loan-details/:loanId"},r.a.createElement(Ot,null)),r.a.createElement(d.a,{path:"/onboarding"},r.a.createElement(Le,null)),r.a.createElement(d.a,{path:"/applications"},r.a.createElement(dt,null)),r.a.createElement(d.a,{path:"/pay/callback"},r.a.createElement(pt,null)),r.a.createElement(d.a,{path:"/cards/add"},r.a.createElement(ut,null)),r.a.createElement(d.a,{path:"/cards"},r.a.createElement(it,null)),r.a.createElement(d.a,{path:"/pay/success"},r.a.createElement(jt,null)),r.a.createElement(d.a,{path:"/pay/:loanId"},r.a.createElement(Nt,null)),r.a.createElement(d.a,{path:"*"},r.a.createElement(kt,null))))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"w-full m-auto px-8 relative"},r.a.createElement("img",{src:"/img/loading-gif.gif",alt:"",className:"w-1/8 m-auto pt-64 pb-10"}),r.a.createElement("h6",{className:"m-auto text-lg text-gray-700 text-center"},"One moment please...")))}a(328),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Lt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[129,1,2]]]);
//# sourceMappingURL=main.aab455b9.chunk.js.map